{"dependencies":[{"name":"./queryObserver.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":32},"end":{"line":2,"column":51,"index":83}}],"key":"T5bdga4o8lhxjwmnTyuBuLPduVg=","exportNames":["*"]}},{"name":"./infiniteQueryBehavior.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":84},"end":{"line":7,"column":36,"index":187}}],"key":"Dj+TcYB7Bmtxbfu2mfnKFBaMfIM=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.InfiniteQueryObserver = void 0;\n  var _queryObserver = require(_dependencyMap[0], \"./queryObserver.js\");\n  var _infiniteQueryBehavior = require(_dependencyMap[1], \"./infiniteQueryBehavior.js\");\n  // src/infiniteQueryObserver.ts\n\n  var InfiniteQueryObserver = class extends _queryObserver.QueryObserver {\n    constructor(client, options) {\n      super(client, options);\n    }\n    bindMethods() {\n      super.bindMethods();\n      this.fetchNextPage = this.fetchNextPage.bind(this);\n      this.fetchPreviousPage = this.fetchPreviousPage.bind(this);\n    }\n    setOptions(options) {\n      super.setOptions({\n        ...options,\n        behavior: (0, _infiniteQueryBehavior.infiniteQueryBehavior)()\n      });\n    }\n    getOptimisticResult(options) {\n      options.behavior = (0, _infiniteQueryBehavior.infiniteQueryBehavior)();\n      return super.getOptimisticResult(options);\n    }\n    fetchNextPage(options) {\n      return this.fetch({\n        ...options,\n        meta: {\n          fetchMore: {\n            direction: \"forward\"\n          }\n        }\n      });\n    }\n    fetchPreviousPage(options) {\n      return this.fetch({\n        ...options,\n        meta: {\n          fetchMore: {\n            direction: \"backward\"\n          }\n        }\n      });\n    }\n    createResult(query, options) {\n      const {\n        state\n      } = query;\n      const parentResult = super.createResult(query, options);\n      const {\n        isFetching,\n        isRefetching,\n        isError,\n        isRefetchError\n      } = parentResult;\n      const fetchDirection = state.fetchMeta?.fetchMore?.direction;\n      const isFetchNextPageError = isError && fetchDirection === \"forward\";\n      const isFetchingNextPage = isFetching && fetchDirection === \"forward\";\n      const isFetchPreviousPageError = isError && fetchDirection === \"backward\";\n      const isFetchingPreviousPage = isFetching && fetchDirection === \"backward\";\n      const result = {\n        ...parentResult,\n        fetchNextPage: this.fetchNextPage,\n        fetchPreviousPage: this.fetchPreviousPage,\n        hasNextPage: (0, _infiniteQueryBehavior.hasNextPage)(options, state.data),\n        hasPreviousPage: (0, _infiniteQueryBehavior.hasPreviousPage)(options, state.data),\n        isFetchNextPageError,\n        isFetchingNextPage,\n        isFetchPreviousPageError,\n        isFetchingPreviousPage,\n        isRefetchError: isRefetchError && !isFetchNextPageError && !isFetchPreviousPageError,\n        isRefetching: isRefetching && !isFetchingNextPage && !isFetchingPreviousPage\n      };\n      return result;\n    }\n  };\n  exports.InfiniteQueryObserver = InfiniteQueryObserver;\n});","lineCount":82,"map":[[6,2,2,0],[6,6,2,0,"_queryObserver"],[6,20,2,0],[6,23,2,0,"require"],[6,30,2,0],[6,31,2,0,"_dependencyMap"],[6,45,2,0],[7,2,3,0],[7,6,3,0,"_infiniteQueryBehavior"],[7,28,3,0],[7,31,3,0,"require"],[7,38,3,0],[7,39,3,0,"_dependencyMap"],[7,53,3,0],[8,2,1,0],[10,2,8,0],[10,6,8,4,"InfiniteQueryObserver"],[10,27,8,25],[10,30,8,28],[10,44,8,42,"QueryObserver"],[10,72,8,55],[10,73,8,56],[11,4,9,2,"constructor"],[11,15,9,13,"constructor"],[11,16,9,14,"client"],[11,22,9,20],[11,24,9,22,"options"],[11,31,9,29],[11,33,9,31],[12,6,10,4],[12,11,10,9],[12,12,10,10,"client"],[12,18,10,16],[12,20,10,18,"options"],[12,27,10,25],[12,28,10,26],[13,4,11,2],[14,4,12,2,"bindMethods"],[14,15,12,13,"bindMethods"],[14,16,12,13],[14,18,12,16],[15,6,13,4],[15,11,13,9],[15,12,13,10,"bindMethods"],[15,23,13,21],[15,24,13,22],[15,25,13,23],[16,6,14,4],[16,10,14,8],[16,11,14,9,"fetchNextPage"],[16,24,14,22],[16,27,14,25],[16,31,14,29],[16,32,14,30,"fetchNextPage"],[16,45,14,43],[16,46,14,44,"bind"],[16,50,14,48],[16,51,14,49],[16,55,14,53],[16,56,14,54],[17,6,15,4],[17,10,15,8],[17,11,15,9,"fetchPreviousPage"],[17,28,15,26],[17,31,15,29],[17,35,15,33],[17,36,15,34,"fetchPreviousPage"],[17,53,15,51],[17,54,15,52,"bind"],[17,58,15,56],[17,59,15,57],[17,63,15,61],[17,64,15,62],[18,4,16,2],[19,4,17,2,"setOptions"],[19,14,17,12,"setOptions"],[19,15,17,13,"options"],[19,22,17,20],[19,24,17,22],[20,6,18,4],[20,11,18,9],[20,12,18,10,"setOptions"],[20,22,18,20],[20,23,18,21],[21,8,19,6],[21,11,19,9,"options"],[21,18,19,16],[22,8,20,6,"behavior"],[22,16,20,14],[22,18,20,16],[22,22,20,16,"infiniteQueryBehavior"],[22,66,20,37],[22,68,20,38],[23,6,21,4],[23,7,21,5],[23,8,21,6],[24,4,22,2],[25,4,23,2,"getOptimisticResult"],[25,23,23,21,"getOptimisticResult"],[25,24,23,22,"options"],[25,31,23,29],[25,33,23,31],[26,6,24,4,"options"],[26,13,24,11],[26,14,24,12,"behavior"],[26,22,24,20],[26,25,24,23],[26,29,24,23,"infiniteQueryBehavior"],[26,73,24,44],[26,75,24,45],[26,76,24,46],[27,6,25,4],[27,13,25,11],[27,18,25,16],[27,19,25,17,"getOptimisticResult"],[27,38,25,36],[27,39,25,37,"options"],[27,46,25,44],[27,47,25,45],[28,4,26,2],[29,4,27,2,"fetchNextPage"],[29,17,27,15,"fetchNextPage"],[29,18,27,16,"options"],[29,25,27,23],[29,27,27,25],[30,6,28,4],[30,13,28,11],[30,17,28,15],[30,18,28,16,"fetch"],[30,23,28,21],[30,24,28,22],[31,8,29,6],[31,11,29,9,"options"],[31,18,29,16],[32,8,30,6,"meta"],[32,12,30,10],[32,14,30,12],[33,10,31,8,"fetchMore"],[33,19,31,17],[33,21,31,19],[34,12,31,21,"direction"],[34,21,31,30],[34,23,31,32],[35,10,31,42],[36,8,32,6],[37,6,33,4],[37,7,33,5],[37,8,33,6],[38,4,34,2],[39,4,35,2,"fetchPreviousPage"],[39,21,35,19,"fetchPreviousPage"],[39,22,35,20,"options"],[39,29,35,27],[39,31,35,29],[40,6,36,4],[40,13,36,11],[40,17,36,15],[40,18,36,16,"fetch"],[40,23,36,21],[40,24,36,22],[41,8,37,6],[41,11,37,9,"options"],[41,18,37,16],[42,8,38,6,"meta"],[42,12,38,10],[42,14,38,12],[43,10,39,8,"fetchMore"],[43,19,39,17],[43,21,39,19],[44,12,39,21,"direction"],[44,21,39,30],[44,23,39,32],[45,10,39,43],[46,8,40,6],[47,6,41,4],[47,7,41,5],[47,8,41,6],[48,4,42,2],[49,4,43,2,"createResult"],[49,16,43,14,"createResult"],[49,17,43,15,"query"],[49,22,43,20],[49,24,43,22,"options"],[49,31,43,29],[49,33,43,31],[50,6,44,4],[50,12,44,10],[51,8,44,12,"state"],[52,6,44,18],[52,7,44,19],[52,10,44,22,"query"],[52,15,44,27],[53,6,45,4],[53,12,45,10,"parentResult"],[53,24,45,22],[53,27,45,25],[53,32,45,30],[53,33,45,31,"createResult"],[53,45,45,43],[53,46,45,44,"query"],[53,51,45,49],[53,53,45,51,"options"],[53,60,45,58],[53,61,45,59],[54,6,46,4],[54,12,46,10],[55,8,46,12,"isFetching"],[55,18,46,22],[56,8,46,24,"isRefetching"],[56,20,46,36],[57,8,46,38,"isError"],[57,15,46,45],[58,8,46,47,"isRefetchError"],[59,6,46,62],[59,7,46,63],[59,10,46,66,"parentResult"],[59,22,46,78],[60,6,47,4],[60,12,47,10,"fetchDirection"],[60,26,47,24],[60,29,47,27,"state"],[60,34,47,32],[60,35,47,33,"fetchMeta"],[60,44,47,42],[60,46,47,44,"fetchMore"],[60,55,47,53],[60,57,47,55,"direction"],[60,66,47,64],[61,6,48,4],[61,12,48,10,"isFetchNextPageError"],[61,32,48,30],[61,35,48,33,"isError"],[61,42,48,40],[61,46,48,44,"fetchDirection"],[61,60,48,58],[61,65,48,63],[61,74,48,72],[62,6,49,4],[62,12,49,10,"isFetchingNextPage"],[62,30,49,28],[62,33,49,31,"isFetching"],[62,43,49,41],[62,47,49,45,"fetchDirection"],[62,61,49,59],[62,66,49,64],[62,75,49,73],[63,6,50,4],[63,12,50,10,"isFetchPreviousPageError"],[63,36,50,34],[63,39,50,37,"isError"],[63,46,50,44],[63,50,50,48,"fetchDirection"],[63,64,50,62],[63,69,50,67],[63,79,50,77],[64,6,51,4],[64,12,51,10,"isFetchingPreviousPage"],[64,34,51,32],[64,37,51,35,"isFetching"],[64,47,51,45],[64,51,51,49,"fetchDirection"],[64,65,51,63],[64,70,51,68],[64,80,51,78],[65,6,52,4],[65,12,52,10,"result"],[65,18,52,16],[65,21,52,19],[66,8,53,6],[66,11,53,9,"parentResult"],[66,23,53,21],[67,8,54,6,"fetchNextPage"],[67,21,54,19],[67,23,54,21],[67,27,54,25],[67,28,54,26,"fetchNextPage"],[67,41,54,39],[68,8,55,6,"fetchPreviousPage"],[68,25,55,23],[68,27,55,25],[68,31,55,29],[68,32,55,30,"fetchPreviousPage"],[68,49,55,47],[69,8,56,6,"hasNextPage"],[69,19,56,17],[69,21,56,19],[69,25,56,19,"hasNextPage"],[69,59,56,30],[69,61,56,31,"options"],[69,68,56,38],[69,70,56,40,"state"],[69,75,56,45],[69,76,56,46,"data"],[69,80,56,50],[69,81,56,51],[70,8,57,6,"hasPreviousPage"],[70,23,57,21],[70,25,57,23],[70,29,57,23,"hasPreviousPage"],[70,67,57,38],[70,69,57,39,"options"],[70,76,57,46],[70,78,57,48,"state"],[70,83,57,53],[70,84,57,54,"data"],[70,88,57,58],[70,89,57,59],[71,8,58,6,"isFetchNextPageError"],[71,28,58,26],[72,8,59,6,"isFetchingNextPage"],[72,26,59,24],[73,8,60,6,"isFetchPreviousPageError"],[73,32,60,30],[74,8,61,6,"isFetchingPreviousPage"],[74,30,61,28],[75,8,62,6,"isRefetchError"],[75,22,62,20],[75,24,62,22,"isRefetchError"],[75,38,62,36],[75,42,62,40],[75,43,62,41,"isFetchNextPageError"],[75,63,62,61],[75,67,62,65],[75,68,62,66,"isFetchPreviousPageError"],[75,92,62,90],[76,8,63,6,"isRefetching"],[76,20,63,18],[76,22,63,20,"isRefetching"],[76,34,63,32],[76,38,63,36],[76,39,63,37,"isFetchingNextPage"],[76,57,63,55],[76,61,63,59],[76,62,63,60,"isFetchingPreviousPage"],[77,6,64,4],[77,7,64,5],[78,6,65,4],[78,13,65,11,"result"],[78,19,65,17],[79,4,66,2],[80,2,67,0],[80,3,67,1],[81,2,67,2,"exports"],[81,9,67,2],[81,10,67,2,"InfiniteQueryObserver"],[81,31,67,2],[81,34,67,2,"InfiniteQueryObserver"],[81,55,67,2],[82,0,67,2],[82,3]],"functionMap":{"names":["<global>","InfiniteQueryObserver","InfiniteQueryObserver#constructor","InfiniteQueryObserver#bindMethods","InfiniteQueryObserver#setOptions","InfiniteQueryObserver#getOptimisticResult","InfiniteQueryObserver#fetchNextPage","InfiniteQueryObserver#fetchPreviousPage","InfiniteQueryObserver#createResult"],"mappings":"AAA;4BCO;ECC;GDE;EEC;GFI;EGC;GHK;EIC;GJG;EKC;GLO;EMC;GNO;EOC;GPuB;CDC"}},"type":"js/module"}]}