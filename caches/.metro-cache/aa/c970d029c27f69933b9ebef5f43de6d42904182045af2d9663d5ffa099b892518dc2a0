{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"]}},{"name":"firebase/auth","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":6,"column":23,"index":154}}],"key":"o2UvaebosmgxImAY7KlhPO3FnYs=","exportNames":["*"]}},{"name":"firebase/firestore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":156},"end":{"line":7,"column":57,"index":213}}],"key":"n8ZdwTgQb9oFW01pH/SKxYwC/nA=","exportNames":["*"]}},{"name":"../config/firebase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":215},"end":{"line":8,"column":46,"index":261}}],"key":"K/SZPG5sPeV1upVh8dao26aG7MQ=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.registerUser = exports.onAuthChange = exports.logoutUser = exports.loginUser = exports.getUserData = void 0;\n  var _asyncToGenerator2 = _interopRequireDefault(require(_dependencyMap[1], \"@babel/runtime/helpers/asyncToGenerator\"));\n  var _auth = require(_dependencyMap[2], \"firebase/auth\");\n  var _firestore = require(_dependencyMap[3], \"firebase/firestore\");\n  var _firebase = require(_dependencyMap[4], \"../config/firebase\");\n  // Register new user with Firebase Auth and store data in Firestore\n  var registerUser = exports.registerUser = /*#__PURE__*/function () {\n    var _ref = (0, _asyncToGenerator2.default)(function* (userData) {\n      try {\n        var email = userData.email,\n          password = userData.password,\n          name = userData.name,\n          address = userData.address,\n          occupation = userData.occupation,\n          emergencyContacts = userData.emergencyContacts;\n\n        // Create user in Firebase Auth\n        var userCredential = yield (0, _auth.createUserWithEmailAndPassword)(_firebase.auth, email, password);\n        var user = userCredential.user;\n\n        // Store additional user data in Firestore\n        yield (0, _firestore.setDoc)((0, _firestore.doc)(_firebase.db, 'users', user.uid), {\n          uid: user.uid,\n          email: email,\n          name: name,\n          address: address,\n          occupation: occupation,\n          emergencyContacts: emergencyContacts,\n          // Array of 3 contacts\n          createdAt: new Date().toISOString()\n        });\n        return {\n          success: true,\n          user\n        };\n      } catch (error) {\n        console.error('Registration error:', error);\n        return {\n          success: false,\n          error: error.message\n        };\n      }\n    });\n    return function registerUser(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  // Sign in existing user\n  var loginUser = exports.loginUser = /*#__PURE__*/function () {\n    var _ref2 = (0, _asyncToGenerator2.default)(function* (email, password) {\n      try {\n        var userCredential = yield (0, _auth.signInWithEmailAndPassword)(_firebase.auth, email, password);\n        return {\n          success: true,\n          user: userCredential.user\n        };\n      } catch (error) {\n        console.error('Login error:', error);\n        return {\n          success: false,\n          error: error.message\n        };\n      }\n    });\n    return function loginUser(_x2, _x3) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  // Sign out user\n  var logoutUser = exports.logoutUser = /*#__PURE__*/function () {\n    var _ref3 = (0, _asyncToGenerator2.default)(function* () {\n      try {\n        yield (0, _auth.signOut)(_firebase.auth);\n        return {\n          success: true\n        };\n      } catch (error) {\n        console.error('Logout error:', error);\n        return {\n          success: false,\n          error: error.message\n        };\n      }\n    });\n    return function logoutUser() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  // Get user data from Firestore\n  var getUserData = exports.getUserData = /*#__PURE__*/function () {\n    var _ref4 = (0, _asyncToGenerator2.default)(function* (uid) {\n      try {\n        var userDoc = yield (0, _firestore.getDoc)((0, _firestore.doc)(_firebase.db, 'users', uid));\n        if (userDoc.exists()) {\n          return {\n            success: true,\n            data: userDoc.data()\n          };\n        } else {\n          return {\n            success: false,\n            error: 'User data not found'\n          };\n        }\n      } catch (error) {\n        console.error('Get user data error:', error);\n        return {\n          success: false,\n          error: error.message\n        };\n      }\n    });\n    return function getUserData(_x4) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  // Listen to auth state changes\n  var onAuthChange = callback => {\n    return (0, _auth.onAuthStateChanged)(_firebase.auth, callback);\n  };\n  exports.onAuthChange = onAuthChange;\n});","lineCount":131,"map":[[8,2,1,0],[8,6,1,0,"_auth"],[8,11,1,0],[8,14,1,0,"require"],[8,21,1,0],[8,22,1,0,"_dependencyMap"],[8,36,1,0],[9,2,7,0],[9,6,7,0,"_firestore"],[9,16,7,0],[9,19,7,0,"require"],[9,26,7,0],[9,27,7,0,"_dependencyMap"],[9,41,7,0],[10,2,8,0],[10,6,8,0,"_firebase"],[10,15,8,0],[10,18,8,0,"require"],[10,25,8,0],[10,26,8,0,"_dependencyMap"],[10,40,8,0],[11,2,10,0],[12,2,11,7],[12,6,11,13,"registerUser"],[12,18,11,25],[12,21,11,25,"exports"],[12,28,11,25],[12,29,11,25,"registerUser"],[12,41,11,25],[13,4,11,25],[13,8,11,25,"_ref"],[13,12,11,25],[13,19,11,25,"_asyncToGenerator2"],[13,37,11,25],[13,38,11,25,"default"],[13,45,11,25],[13,47,11,28],[13,58,11,35,"userData"],[13,66,11,43],[13,68,11,48],[14,6,12,2],[14,10,12,6],[15,8,13,4],[15,12,13,12,"email"],[15,17,13,17],[15,20,13,78,"userData"],[15,28,13,86],[15,29,13,12,"email"],[15,34,13,17],[16,10,13,19,"password"],[16,18,13,27],[16,21,13,78,"userData"],[16,29,13,86],[16,30,13,19,"password"],[16,38,13,27],[17,10,13,29,"name"],[17,14,13,33],[17,17,13,78,"userData"],[17,25,13,86],[17,26,13,29,"name"],[17,30,13,33],[18,10,13,35,"address"],[18,17,13,42],[18,20,13,78,"userData"],[18,28,13,86],[18,29,13,35,"address"],[18,36,13,42],[19,10,13,44,"occupation"],[19,20,13,54],[19,23,13,78,"userData"],[19,31,13,86],[19,32,13,44,"occupation"],[19,42,13,54],[20,10,13,56,"emergencyContacts"],[20,27,13,73],[20,30,13,78,"userData"],[20,38,13,86],[20,39,13,56,"emergencyContacts"],[20,56,13,73],[22,8,15,4],[23,8,16,4],[23,12,16,10,"userCredential"],[23,26,16,24],[23,35,16,33],[23,39,16,33,"createUserWithEmailAndPassword"],[23,75,16,63],[23,77,16,64,"auth"],[23,91,16,68],[23,93,16,70,"email"],[23,98,16,75],[23,100,16,77,"password"],[23,108,16,85],[23,109,16,86],[24,8,17,4],[24,12,17,10,"user"],[24,16,17,14],[24,19,17,17,"userCredential"],[24,33,17,31],[24,34,17,32,"user"],[24,38,17,36],[26,8,19,4],[27,8,20,4],[27,14,20,10],[27,18,20,10,"setDoc"],[27,35,20,16],[27,37,20,17],[27,41,20,17,"doc"],[27,55,20,20],[27,57,20,21,"db"],[27,69,20,23],[27,71,20,25],[27,78,20,32],[27,80,20,34,"user"],[27,84,20,38],[27,85,20,39,"uid"],[27,88,20,42],[27,89,20,43],[27,91,20,45],[28,10,21,6,"uid"],[28,13,21,9],[28,15,21,11,"user"],[28,19,21,15],[28,20,21,16,"uid"],[28,23,21,19],[29,10,22,6,"email"],[29,15,22,11],[29,17,22,13,"email"],[29,22,22,18],[30,10,23,6,"name"],[30,14,23,10],[30,16,23,12,"name"],[30,20,23,16],[31,10,24,6,"address"],[31,17,24,13],[31,19,24,15,"address"],[31,26,24,22],[32,10,25,6,"occupation"],[32,20,25,16],[32,22,25,18,"occupation"],[32,32,25,28],[33,10,26,6,"emergencyContacts"],[33,27,26,23],[33,29,26,25,"emergencyContacts"],[33,46,26,42],[34,10,26,44],[35,10,27,6,"createdAt"],[35,19,27,15],[35,21,27,17],[35,25,27,21,"Date"],[35,29,27,25],[35,30,27,26],[35,31,27,27],[35,32,27,28,"toISOString"],[35,43,27,39],[35,44,27,40],[36,8,28,4],[36,9,28,5],[36,10,28,6],[37,8,30,4],[37,15,30,11],[38,10,30,13,"success"],[38,17,30,20],[38,19,30,22],[38,23,30,26],[39,10,30,28,"user"],[40,8,30,33],[40,9,30,34],[41,6,31,2],[41,7,31,3],[41,8,31,4],[41,15,31,11,"error"],[41,20,31,16],[41,22,31,18],[42,8,32,4,"console"],[42,15,32,11],[42,16,32,12,"error"],[42,21,32,17],[42,22,32,18],[42,43,32,39],[42,45,32,41,"error"],[42,50,32,46],[42,51,32,47],[43,8,33,4],[43,15,33,11],[44,10,33,13,"success"],[44,17,33,20],[44,19,33,22],[44,24,33,27],[45,10,33,29,"error"],[45,15,33,34],[45,17,33,36,"error"],[45,22,33,41],[45,23,33,42,"message"],[46,8,33,50],[46,9,33,51],[47,6,34,2],[48,4,35,0],[48,5,35,1],[49,4,35,1],[49,20,11,13,"registerUser"],[49,32,11,25,"registerUser"],[49,33,11,25,"_x"],[49,35,11,25],[50,6,11,25],[50,13,11,25,"_ref"],[50,17,11,25],[50,18,11,25,"apply"],[50,23,11,25],[50,30,11,25,"arguments"],[50,39,11,25],[51,4,11,25],[52,2,11,25],[52,5,35,1],[54,2,37,0],[55,2,38,7],[55,6,38,13,"loginUser"],[55,15,38,22],[55,18,38,22,"exports"],[55,25,38,22],[55,26,38,22,"loginUser"],[55,35,38,22],[56,4,38,22],[56,8,38,22,"_ref2"],[56,13,38,22],[56,20,38,22,"_asyncToGenerator2"],[56,38,38,22],[56,39,38,22,"default"],[56,46,38,22],[56,48,38,25],[56,59,38,32,"email"],[56,64,38,37],[56,66,38,39,"password"],[56,74,38,47],[56,76,38,52],[57,6,39,2],[57,10,39,6],[58,8,40,4],[58,12,40,10,"userCredential"],[58,26,40,24],[58,35,40,33],[58,39,40,33,"signInWithEmailAndPassword"],[58,71,40,59],[58,73,40,60,"auth"],[58,87,40,64],[58,89,40,66,"email"],[58,94,40,71],[58,96,40,73,"password"],[58,104,40,81],[58,105,40,82],[59,8,41,4],[59,15,41,11],[60,10,41,13,"success"],[60,17,41,20],[60,19,41,22],[60,23,41,26],[61,10,41,28,"user"],[61,14,41,32],[61,16,41,34,"userCredential"],[61,30,41,48],[61,31,41,49,"user"],[62,8,41,54],[62,9,41,55],[63,6,42,2],[63,7,42,3],[63,8,42,4],[63,15,42,11,"error"],[63,20,42,16],[63,22,42,18],[64,8,43,4,"console"],[64,15,43,11],[64,16,43,12,"error"],[64,21,43,17],[64,22,43,18],[64,36,43,32],[64,38,43,34,"error"],[64,43,43,39],[64,44,43,40],[65,8,44,4],[65,15,44,11],[66,10,44,13,"success"],[66,17,44,20],[66,19,44,22],[66,24,44,27],[67,10,44,29,"error"],[67,15,44,34],[67,17,44,36,"error"],[67,22,44,41],[67,23,44,42,"message"],[68,8,44,50],[68,9,44,51],[69,6,45,2],[70,4,46,0],[70,5,46,1],[71,4,46,1],[71,20,38,13,"loginUser"],[71,29,38,22,"loginUser"],[71,30,38,22,"_x2"],[71,33,38,22],[71,35,38,22,"_x3"],[71,38,38,22],[72,6,38,22],[72,13,38,22,"_ref2"],[72,18,38,22],[72,19,38,22,"apply"],[72,24,38,22],[72,31,38,22,"arguments"],[72,40,38,22],[73,4,38,22],[74,2,38,22],[74,5,46,1],[76,2,48,0],[77,2,49,7],[77,6,49,13,"logoutUser"],[77,16,49,23],[77,19,49,23,"exports"],[77,26,49,23],[77,27,49,23,"logoutUser"],[77,37,49,23],[78,4,49,23],[78,8,49,23,"_ref3"],[78,13,49,23],[78,20,49,23,"_asyncToGenerator2"],[78,38,49,23],[78,39,49,23,"default"],[78,46,49,23],[78,48,49,26],[78,61,49,38],[79,6,50,2],[79,10,50,6],[80,8,51,4],[80,14,51,10],[80,18,51,10,"firebaseSignOut"],[80,31,51,25],[80,33,51,26,"auth"],[80,47,51,30],[80,48,51,31],[81,8,52,4],[81,15,52,11],[82,10,52,13,"success"],[82,17,52,20],[82,19,52,22],[83,8,52,27],[83,9,52,28],[84,6,53,2],[84,7,53,3],[84,8,53,4],[84,15,53,11,"error"],[84,20,53,16],[84,22,53,18],[85,8,54,4,"console"],[85,15,54,11],[85,16,54,12,"error"],[85,21,54,17],[85,22,54,18],[85,37,54,33],[85,39,54,35,"error"],[85,44,54,40],[85,45,54,41],[86,8,55,4],[86,15,55,11],[87,10,55,13,"success"],[87,17,55,20],[87,19,55,22],[87,24,55,27],[88,10,55,29,"error"],[88,15,55,34],[88,17,55,36,"error"],[88,22,55,41],[88,23,55,42,"message"],[89,8,55,50],[89,9,55,51],[90,6,56,2],[91,4,57,0],[91,5,57,1],[92,4,57,1],[92,20,49,13,"logoutUser"],[92,30,49,23,"logoutUser"],[92,31,49,23],[93,6,49,23],[93,13,49,23,"_ref3"],[93,18,49,23],[93,19,49,23,"apply"],[93,24,49,23],[93,31,49,23,"arguments"],[93,40,49,23],[94,4,49,23],[95,2,49,23],[95,5,57,1],[97,2,59,0],[98,2,60,7],[98,6,60,13,"getUserData"],[98,17,60,24],[98,20,60,24,"exports"],[98,27,60,24],[98,28,60,24,"getUserData"],[98,39,60,24],[99,4,60,24],[99,8,60,24,"_ref4"],[99,13,60,24],[99,20,60,24,"_asyncToGenerator2"],[99,38,60,24],[99,39,60,24,"default"],[99,46,60,24],[99,48,60,27],[99,59,60,34,"uid"],[99,62,60,37],[99,64,60,42],[100,6,61,2],[100,10,61,6],[101,8,62,4],[101,12,62,10,"userDoc"],[101,19,62,17],[101,28,62,26],[101,32,62,26,"getDoc"],[101,49,62,32],[101,51,62,33],[101,55,62,33,"doc"],[101,69,62,36],[101,71,62,37,"db"],[101,83,62,39],[101,85,62,41],[101,92,62,48],[101,94,62,50,"uid"],[101,97,62,53],[101,98,62,54],[101,99,62,55],[102,8,63,4],[102,12,63,8,"userDoc"],[102,19,63,15],[102,20,63,16,"exists"],[102,26,63,22],[102,27,63,23],[102,28,63,24],[102,30,63,26],[103,10,64,6],[103,17,64,13],[104,12,64,15,"success"],[104,19,64,22],[104,21,64,24],[104,25,64,28],[105,12,64,30,"data"],[105,16,64,34],[105,18,64,36,"userDoc"],[105,25,64,43],[105,26,64,44,"data"],[105,30,64,48],[105,31,64,49],[106,10,64,51],[106,11,64,52],[107,8,65,4],[107,9,65,5],[107,15,65,11],[108,10,66,6],[108,17,66,13],[109,12,66,15,"success"],[109,19,66,22],[109,21,66,24],[109,26,66,29],[110,12,66,31,"error"],[110,17,66,36],[110,19,66,38],[111,10,66,60],[111,11,66,61],[112,8,67,4],[113,6,68,2],[113,7,68,3],[113,8,68,4],[113,15,68,11,"error"],[113,20,68,16],[113,22,68,18],[114,8,69,4,"console"],[114,15,69,11],[114,16,69,12,"error"],[114,21,69,17],[114,22,69,18],[114,44,69,40],[114,46,69,42,"error"],[114,51,69,47],[114,52,69,48],[115,8,70,4],[115,15,70,11],[116,10,70,13,"success"],[116,17,70,20],[116,19,70,22],[116,24,70,27],[117,10,70,29,"error"],[117,15,70,34],[117,17,70,36,"error"],[117,22,70,41],[117,23,70,42,"message"],[118,8,70,50],[118,9,70,51],[119,6,71,2],[120,4,72,0],[120,5,72,1],[121,4,72,1],[121,20,60,13,"getUserData"],[121,31,60,24,"getUserData"],[121,32,60,24,"_x4"],[121,35,60,24],[122,6,60,24],[122,13,60,24,"_ref4"],[122,18,60,24],[122,19,60,24,"apply"],[122,24,60,24],[122,31,60,24,"arguments"],[122,40,60,24],[123,4,60,24],[124,2,60,24],[124,5,72,1],[126,2,74,0],[127,2,75,7],[127,6,75,13,"onAuthChange"],[127,18,75,25],[127,21,75,29,"callback"],[127,29,75,37],[127,33,75,42],[128,4,76,2],[128,11,76,9],[128,15,76,9,"onAuthStateChanged"],[128,39,76,27],[128,41,76,28,"auth"],[128,55,76,32],[128,57,76,34,"callback"],[128,65,76,42],[128,66,76,43],[129,2,77,0],[129,3,77,1],[130,2,77,2,"exports"],[130,9,77,2],[130,10,77,2,"onAuthChange"],[130,22,77,2],[130,25,77,2,"onAuthChange"],[130,37,77,2],[131,0,77,2],[131,3]],"functionMap":{"names":["<global>","registerUser","loginUser","logoutUser","getUserData","onAuthChange"],"mappings":"AAA;4BCU;CDwB;yBEG;CFQ;0BGG;CHQ;2BIG;CJY;4BKG;CLE"}},"type":"js/module"}]}