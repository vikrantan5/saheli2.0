{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"]}},{"name":"expo-modules-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":45,"index":45}}],"key":"fU8WLIPqoAGygnPbZ/QJiQQfXEY=","exportNames":["*"]}},{"name":"./ExpoLocation","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":46},"end":{"line":2,"column":42,"index":88}}],"key":"n9eQB3huKj/lRnIsgaXRKPJKjaY=","exportNames":["*"]}},{"name":"./Location.types","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":89},"end":{"line":3,"column":52,"index":141}}],"key":"QoIrjHWCWA2K0AZhEI/d0eITBhA=","exportNames":["*"]}},{"name":"./LocationSubscribers","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":142},"end":{"line":4,"column":59,"index":201}}],"key":"ECD2ecHoQ4d6PxMbJzhCjCmKfZg=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.installWebGeolocationPolyfill = installWebGeolocationPolyfill;\n  var _asyncToGenerator2 = _interopRequireDefault(require(_dependencyMap[1], \"@babel/runtime/helpers/asyncToGenerator\"));\n  var _expoModulesCore = require(_dependencyMap[2], \"expo-modules-core\");\n  var _ExpoLocation = _interopRequireDefault(require(_dependencyMap[3], \"./ExpoLocation\"));\n  var _Location = require(_dependencyMap[4], \"./Location.types\");\n  var _LocationSubscribers = require(_dependencyMap[5], \"./LocationSubscribers\");\n  // @needsAudit\n  /**\n   * Polyfills `navigator.geolocation` for interop with the core React Native and Web API approach to geolocation.\n   */\n  function installWebGeolocationPolyfill() {\n    if (_expoModulesCore.Platform.OS !== 'web') {\n      // Make sure `window.navigator` is defined in the global scope.\n      if (!('window' in global)) {\n        global.window = global;\n      }\n      if (!('navigator' in global.window)) {\n        global.window.navigator = {};\n      }\n      // @ts-ignore\n      window.navigator.geolocation = {\n        getCurrentPosition,\n        watchPosition,\n        clearWatch\n      };\n    }\n  }\n  function convertGeolocationOptions(options) {\n    return {\n      accuracy: options.enableHighAccuracy ? _Location.LocationAccuracy.High : _Location.LocationAccuracy.Balanced\n    };\n  }\n  function getCurrentPosition(success) {\n    var error = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : () => {};\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    _getCurrentPositionAsyncWrapper(success, error, options);\n  }\n  // This function exists to let us continue to return undefined from getCurrentPosition, while still\n  // using async/await for the internal implementation of it\n  function _getCurrentPositionAsyncWrapper(_x, _x2, _x3) {\n    return _getCurrentPositionAsyncWrapper2.apply(this, arguments);\n  } // Polyfill: navigator.geolocation.watchPosition\n  function _getCurrentPositionAsyncWrapper2() {\n    _getCurrentPositionAsyncWrapper2 = (0, _asyncToGenerator2.default)(function* (success, error, options) {\n      try {\n        yield _ExpoLocation.default.requestPermissionsAsync();\n        var result = yield _ExpoLocation.default.getCurrentPositionAsync(convertGeolocationOptions(options));\n        success(result);\n      } catch (e) {\n        error(e);\n      }\n    });\n    return _getCurrentPositionAsyncWrapper2.apply(this, arguments);\n  }\n  function watchPosition(success, error, options) {\n    var watchId = _LocationSubscribers.LocationSubscriber.registerCallback(success);\n    _ExpoLocation.default.watchPositionImplAsync(watchId, options).catch(err => {\n      _LocationSubscribers.LocationSubscriber.unregisterCallback(watchId);\n      error({\n        watchId,\n        message: err.message,\n        code: err.code\n      });\n    });\n    return watchId;\n  }\n  // Polyfill: navigator.geolocation.clearWatch\n  function clearWatch(watchId) {\n    _LocationSubscribers.LocationSubscriber.unregisterCallback(watchId);\n  }\n});","lineCount":76,"map":[[8,2,1,0],[8,6,1,0,"_expoModulesCore"],[8,22,1,0],[8,25,1,0,"require"],[8,32,1,0],[8,33,1,0,"_dependencyMap"],[8,47,1,0],[9,2,2,0],[9,6,2,0,"_ExpoLocation"],[9,19,2,0],[9,22,2,0,"_interopRequireDefault"],[9,44,2,0],[9,45,2,0,"require"],[9,52,2,0],[9,53,2,0,"_dependencyMap"],[9,67,2,0],[10,2,3,0],[10,6,3,0,"_Location"],[10,15,3,0],[10,18,3,0,"require"],[10,25,3,0],[10,26,3,0,"_dependencyMap"],[10,40,3,0],[11,2,4,0],[11,6,4,0,"_LocationSubscribers"],[11,26,4,0],[11,29,4,0,"require"],[11,36,4,0],[11,37,4,0,"_dependencyMap"],[11,51,4,0],[12,2,5,0],[13,2,6,0],[14,0,7,0],[15,0,8,0],[16,2,9,7],[16,11,9,16,"installWebGeolocationPolyfill"],[16,40,9,45,"installWebGeolocationPolyfill"],[16,41,9,45],[16,43,9,48],[17,4,10,4],[17,8,10,8,"Platform"],[17,33,10,16],[17,34,10,17,"OS"],[17,36,10,19],[17,41,10,24],[17,46,10,29],[17,48,10,31],[18,6,11,8],[19,6,12,8],[19,10,12,12],[19,12,12,14],[19,20,12,22],[19,24,12,26,"global"],[19,30,12,32],[19,31,12,33],[19,33,12,35],[20,8,13,12,"global"],[20,14,13,18],[20,15,13,19,"window"],[20,21,13,25],[20,24,13,28,"global"],[20,30,13,34],[21,6,14,8],[22,6,15,8],[22,10,15,12],[22,12,15,14],[22,23,15,25],[22,27,15,29,"global"],[22,33,15,35],[22,34,15,36,"window"],[22,40,15,42],[22,41,15,43],[22,43,15,45],[23,8,16,12,"global"],[23,14,16,18],[23,15,16,19,"window"],[23,21,16,25],[23,22,16,26,"navigator"],[23,31,16,35],[23,34,16,38],[23,35,16,39],[23,36,16,40],[24,6,17,8],[25,6,18,8],[26,6,19,8,"window"],[26,12,19,14],[26,13,19,15,"navigator"],[26,22,19,24],[26,23,19,25,"geolocation"],[26,34,19,36],[26,37,19,39],[27,8,20,12,"getCurrentPosition"],[27,26,20,30],[28,8,21,12,"watchPosition"],[28,21,21,25],[29,8,22,12,"clearWatch"],[30,6,23,8],[30,7,23,9],[31,4,24,4],[32,2,25,0],[33,2,26,0],[33,11,26,9,"convertGeolocationOptions"],[33,36,26,34,"convertGeolocationOptions"],[33,37,26,35,"options"],[33,44,26,42],[33,46,26,44],[34,4,27,4],[34,11,27,11],[35,6,28,8,"accuracy"],[35,14,28,16],[35,16,28,18,"options"],[35,23,28,25],[35,24,28,26,"enableHighAccuracy"],[35,42,28,44],[35,45,28,47,"LocationAccuracy"],[35,71,28,63],[35,72,28,64,"High"],[35,76,28,68],[35,79,28,71,"LocationAccuracy"],[35,105,28,87],[35,106,28,88,"Balanced"],[36,4,29,4],[36,5,29,5],[37,2,30,0],[38,2,31,0],[38,11,31,9,"getCurrentPosition"],[38,29,31,27,"getCurrentPosition"],[38,30,31,28,"success"],[38,37,31,35],[38,39,31,70],[39,4,31,70],[39,8,31,37,"error"],[39,13,31,42],[39,16,31,42,"arguments"],[39,25,31,42],[39,26,31,42,"length"],[39,32,31,42],[39,40,31,42,"arguments"],[39,49,31,42],[39,57,31,42,"undefined"],[39,66,31,42],[39,69,31,42,"arguments"],[39,78,31,42],[39,84,31,45],[39,90,31,51],[39,91,31,53],[39,92,31,54],[40,4,31,54],[40,8,31,56,"options"],[40,15,31,63],[40,18,31,63,"arguments"],[40,27,31,63],[40,28,31,63,"length"],[40,34,31,63],[40,42,31,63,"arguments"],[40,51,31,63],[40,59,31,63,"undefined"],[40,68,31,63],[40,71,31,63,"arguments"],[40,80,31,63],[40,86,31,66],[40,87,31,67],[40,88,31,68],[41,4,32,4,"_getCurrentPositionAsyncWrapper"],[41,35,32,35],[41,36,32,36,"success"],[41,43,32,43],[41,45,32,45,"error"],[41,50,32,50],[41,52,32,52,"options"],[41,59,32,59],[41,60,32,60],[42,2,33,0],[43,2,34,0],[44,2,35,0],[45,2,35,0],[45,11,36,15,"_getCurrentPositionAsyncWrapper"],[45,42,36,46,"_getCurrentPositionAsyncWrapper"],[45,43,36,46,"_x"],[45,45,36,46],[45,47,36,46,"_x2"],[45,50,36,46],[45,52,36,46,"_x3"],[45,55,36,46],[46,4,36,46],[46,11,36,46,"_getCurrentPositionAsyncWrapper2"],[46,43,36,46],[46,44,36,46,"apply"],[46,49,36,46],[46,56,36,46,"arguments"],[46,65,36,46],[47,2,36,46],[47,4,46,0],[48,2,46,0],[48,11,46,0,"_getCurrentPositionAsyncWrapper2"],[48,44,46,0],[49,4,46,0,"_getCurrentPositionAsyncWrapper2"],[49,36,46,0],[49,43,46,0,"_asyncToGenerator2"],[49,61,46,0],[49,62,46,0,"default"],[49,69,46,0],[49,71,36,0],[49,82,36,47,"success"],[49,89,36,54],[49,91,36,56,"error"],[49,96,36,61],[49,98,36,63,"options"],[49,105,36,70],[49,107,36,72],[50,6,37,4],[50,10,37,8],[51,8,38,8],[51,14,38,14,"ExpoLocation"],[51,35,38,26],[51,36,38,27,"requestPermissionsAsync"],[51,59,38,50],[51,60,38,51],[51,61,38,52],[52,8,39,8],[52,12,39,14,"result"],[52,18,39,20],[52,27,39,29,"ExpoLocation"],[52,48,39,41],[52,49,39,42,"getCurrentPositionAsync"],[52,72,39,65],[52,73,39,66,"convertGeolocationOptions"],[52,98,39,91],[52,99,39,92,"options"],[52,106,39,99],[52,107,39,100],[52,108,39,101],[53,8,40,8,"success"],[53,15,40,15],[53,16,40,16,"result"],[53,22,40,22],[53,23,40,23],[54,6,41,4],[54,7,41,5],[54,8,42,4],[54,15,42,11,"e"],[54,16,42,12],[54,18,42,14],[55,8,43,8,"error"],[55,13,43,13],[55,14,43,14,"e"],[55,15,43,15],[55,16,43,16],[56,6,44,4],[57,4,45,0],[57,5,45,1],[58,4,45,1],[58,11,45,1,"_getCurrentPositionAsyncWrapper2"],[58,43,45,1],[58,44,45,1,"apply"],[58,49,45,1],[58,56,45,1,"arguments"],[58,65,45,1],[59,2,45,1],[60,2,47,0],[60,11,47,9,"watchPosition"],[60,24,47,22,"watchPosition"],[60,25,47,23,"success"],[60,32,47,30],[60,34,47,32,"error"],[60,39,47,37],[60,41,47,39,"options"],[60,48,47,46],[60,50,47,48],[61,4,48,4],[61,8,48,10,"watchId"],[61,15,48,17],[61,18,48,20,"LocationSubscriber"],[61,57,48,38],[61,58,48,39,"registerCallback"],[61,74,48,55],[61,75,48,56,"success"],[61,82,48,63],[61,83,48,64],[62,4,49,4,"ExpoLocation"],[62,25,49,16],[62,26,49,17,"watchPositionImplAsync"],[62,48,49,39],[62,49,49,40,"watchId"],[62,56,49,47],[62,58,49,49,"options"],[62,65,49,56],[62,66,49,57],[62,67,49,58,"catch"],[62,72,49,63],[62,73,49,65,"err"],[62,76,49,68],[62,80,49,73],[63,6,50,8,"LocationSubscriber"],[63,45,50,26],[63,46,50,27,"unregisterCallback"],[63,64,50,45],[63,65,50,46,"watchId"],[63,72,50,53],[63,73,50,54],[64,6,51,8,"error"],[64,11,51,13],[64,12,51,14],[65,8,51,16,"watchId"],[65,15,51,23],[66,8,51,25,"message"],[66,15,51,32],[66,17,51,34,"err"],[66,20,51,37],[66,21,51,38,"message"],[66,28,51,45],[67,8,51,47,"code"],[67,12,51,51],[67,14,51,53,"err"],[67,17,51,56],[67,18,51,57,"code"],[68,6,51,62],[68,7,51,63],[68,8,51,64],[69,4,52,4],[69,5,52,5],[69,6,52,6],[70,4,53,4],[70,11,53,11,"watchId"],[70,18,53,18],[71,2,54,0],[72,2,55,0],[73,2,56,0],[73,11,56,9,"clearWatch"],[73,21,56,19,"clearWatch"],[73,22,56,20,"watchId"],[73,29,56,27],[73,31,56,29],[74,4,57,4,"LocationSubscriber"],[74,43,57,22],[74,44,57,23,"unregisterCallback"],[74,62,57,41],[74,63,57,42,"watchId"],[74,70,57,49],[74,71,57,50],[75,2,58,0],[76,0,58,1],[76,3]],"functionMap":{"names":["<global>","installWebGeolocationPolyfill","convertGeolocationOptions","getCurrentPosition","<anonymous>","_getCurrentPositionAsyncWrapper","watchPosition","ExpoLocation.watchPositionImplAsync._catch$argument_0","clearWatch"],"mappings":"AAA;OCQ;CDgB;AEC;CFI;AGC,6CC,SD;CHE;AKG;CLS;AME;gECE;KDG;CNE;AQE;CRE"}},"type":"js/module"}]}