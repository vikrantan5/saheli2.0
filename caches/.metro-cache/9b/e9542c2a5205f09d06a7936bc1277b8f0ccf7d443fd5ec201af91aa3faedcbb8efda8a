{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"]}},{"name":"../config/supabase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":36},"end":{"line":2,"column":46,"index":82}}],"key":"tISGjAChzu0MylB2qV4f9enHnO8=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.registerUser = exports.onAuthChange = exports.logoutUser = exports.loginUser = exports.getUserData = exports.getCurrentUser = void 0;\n  var _asyncToGenerator2 = _interopRequireDefault(require(_dependencyMap[1], \"@babel/runtime/helpers/asyncToGenerator\"));\n  var _supabase = require(_dependencyMap[2], \"../config/supabase\");\n  // Supabase Authentication Service\n\n  // Register new user with Supabase Auth and store data in PostgreSQL\n  var registerUser = exports.registerUser = /*#__PURE__*/function () {\n    var _ref = (0, _asyncToGenerator2.default)(function* (userData) {\n      try {\n        var email = userData.email,\n          password = userData.password,\n          name = userData.name,\n          address = userData.address,\n          occupation = userData.occupation,\n          emergencyContacts = userData.emergencyContacts;\n\n        // Step 1: Create user in Supabase Auth\n        // âœ… This triggers the database function to auto-create record in public.users\n        var _yield$supabase$auth$ = yield _supabase.supabase.auth.signUp({\n            email,\n            password\n          }),\n          authData = _yield$supabase$auth$.data,\n          authError = _yield$supabase$auth$.error;\n        if (authError) {\n          console.error('Supabase Auth error:', authError);\n          return {\n            success: false,\n            error: authError.message\n          };\n        }\n\n        // Step 2: Ensure we have the correct user ID\n        var userId = authData.user?.id;\n        if (!userId) {\n          var _yield$supabase$auth$2 = yield _supabase.supabase.auth.getUser(),\n            user = _yield$supabase$auth$2.data.user;\n          userId = user?.id;\n        }\n        if (!userId) {\n          return {\n            success: false,\n            error: 'User creation failed (no UID returned)'\n          };\n        }\n\n        // Step 3: Wait briefly for trigger to complete (100ms should be enough)\n        yield new Promise(resolve => setTimeout(resolve, 100));\n\n        // Step 4: Update user profile with additional data\n        // The trigger already created the record with id and email, now we add name, address, occupation\n        var _yield$supabase$from$ = yield _supabase.supabase.from('users').update({\n            name,\n            address: address || '',\n            occupation: occupation || '',\n            updated_at: new Date().toISOString()\n          }).eq('id', userId),\n          userError = _yield$supabase$from$.error;\n        if (userError) {\n          console.error('User profile update error:', userError);\n          // If update fails, try insert as fallback (in case trigger didn't fire)\n          var _yield$supabase$from$2 = yield _supabase.supabase.from('users').insert([{\n              id: userId,\n              email,\n              name,\n              address: address || '',\n              occupation: occupation || '',\n              created_at: new Date().toISOString(),\n              updated_at: new Date().toISOString()\n            }]),\n            insertError = _yield$supabase$from$2.error;\n          if (insertError) {\n            console.error('User profile insert fallback error:', insertError);\n            return {\n              success: false,\n              error: 'Failed to create user profile: ' + insertError.message\n            };\n          }\n        }\n\n        // Step 5: Insert emergency contacts\n        var contactsToInsert = (emergencyContacts || []).map(contact => ({\n          user_id: userId,\n          name: contact.name,\n          phone: contact.phone\n        }));\n        if (contactsToInsert.length > 0) {\n          var _yield$supabase$from$3 = yield _supabase.supabase.from('emergency_contacts').insert(contactsToInsert),\n            contactsError = _yield$supabase$from$3.error;\n          if (contactsError) {\n            console.error('Emergency contacts insert error:', contactsError);\n            return {\n              success: false,\n              error: 'Failed to add emergency contacts: ' + contactsError.message\n            };\n          }\n        }\n\n        // Step 6: User is already logged in automatically by Supabase after signUp\n        console.log('âœ… User registered and logged in successfully');\n        return {\n          success: true,\n          user: authData.user\n        };\n      } catch (error) {\n        console.error('Registration error:', error);\n        return {\n          success: false,\n          error: error.message\n        };\n      }\n    });\n    return function registerUser(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  // Sign in existing user\n  var loginUser = exports.loginUser = /*#__PURE__*/function () {\n    var _ref2 = (0, _asyncToGenerator2.default)(function* (email, password) {\n      try {\n        var _yield$supabase$auth$3 = yield _supabase.supabase.auth.signInWithPassword({\n            email,\n            password\n          }),\n          data = _yield$supabase$auth$3.data,\n          error = _yield$supabase$auth$3.error;\n        if (error) return {\n          success: false,\n          error: error.message\n        };\n        return {\n          success: true,\n          user: data.user\n        };\n      } catch (error) {\n        return {\n          success: false,\n          error: error.message\n        };\n      }\n    });\n    return function loginUser(_x2, _x3) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  // Sign out user with proper session cleanup\n  var logoutUser = exports.logoutUser = /*#__PURE__*/function () {\n    var _ref3 = (0, _asyncToGenerator2.default)(function* () {\n      try {\n        console.log('ðŸ”“ Starting logout process...');\n\n        // Step 1: Sign out from Supabase (clears AsyncStorage session)\n        var _yield$supabase$auth$4 = yield _supabase.supabase.auth.signOut(),\n          error = _yield$supabase$auth$4.error;\n        if (error) {\n          console.error('Supabase signOut error:', error);\n          return {\n            success: false,\n            error: error.message\n          };\n        }\n        console.log('âœ… Supabase session cleared');\n\n        // Step 2: Clear any additional local storage if needed\n        // This ensures complete cleanup\n        try {\n          // Clear any cached user data\n          if (typeof localStorage !== 'undefined') {\n            localStorage.removeItem('supabase.auth.token');\n          }\n        } catch (storageError) {\n          console.log('Local storage cleanup (optional):', storageError.message);\n        }\n        console.log('âœ… User logged out successfully');\n        return {\n          success: true\n        };\n      } catch (error) {\n        console.error('Logout error:', error);\n        return {\n          success: false,\n          error: error.message\n        };\n      }\n    });\n    return function logoutUser() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  // Get user data (profile + emergency contacts)\n  var getUserData = exports.getUserData = /*#__PURE__*/function () {\n    var _ref4 = (0, _asyncToGenerator2.default)(function* (userId) {\n      try {\n        var _yield$supabase$from$4 = yield _supabase.supabase.from('users').select('*').eq('id', userId).single(),\n          userData = _yield$supabase$from$4.data,\n          userError = _yield$supabase$from$4.error;\n        if (userError) throw userError;\n        var _yield$supabase$from$5 = yield _supabase.supabase.from('emergency_contacts').select('*').eq('user_id', userId),\n          contacts = _yield$supabase$from$5.data,\n          contactsError = _yield$supabase$from$5.error;\n        if (contactsError) throw contactsError;\n        return {\n          success: true,\n          data: {\n            ...userData,\n            emergencyContacts: contacts || []\n          }\n        };\n      } catch (error) {\n        console.error('Get user data error:', error);\n        return {\n          success: false,\n          error: error.message\n        };\n      }\n    });\n    return function getUserData(_x4) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  // Get current authenticated user\n  var getCurrentUser = exports.getCurrentUser = /*#__PURE__*/function () {\n    var _ref5 = (0, _asyncToGenerator2.default)(function* () {\n      var _yield$supabase$auth$5 = yield _supabase.supabase.auth.getUser(),\n        user = _yield$supabase$auth$5.data.user,\n        error = _yield$supabase$auth$5.error;\n      return error ? null : user;\n    });\n    return function getCurrentUser() {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n\n  // Listen to auth state changes\n  var onAuthChange = callback => {\n    var _supabase$auth$onAuth = _supabase.supabase.auth.onAuthStateChange((_event, session) => {\n        callback(session?.user || null);\n      }),\n      subscription = _supabase$auth$onAuth.data.subscription;\n    return () => subscription.unsubscribe();\n  };\n  exports.onAuthChange = onAuthChange;\n});","lineCount":252,"map":[[8,2,2,0],[8,6,2,0,"_supabase"],[8,15,2,0],[8,18,2,0,"require"],[8,25,2,0],[8,26,2,0,"_dependencyMap"],[8,40,2,0],[9,2,1,0],[11,2,4,0],[12,2,5,7],[12,6,5,13,"registerUser"],[12,18,5,25],[12,21,5,25,"exports"],[12,28,5,25],[12,29,5,25,"registerUser"],[12,41,5,25],[13,4,5,25],[13,8,5,25,"_ref"],[13,12,5,25],[13,19,5,25,"_asyncToGenerator2"],[13,37,5,25],[13,38,5,25,"default"],[13,45,5,25],[13,47,5,28],[13,58,5,35,"userData"],[13,66,5,43],[13,68,5,48],[14,6,6,2],[14,10,6,6],[15,8,7,4],[15,12,7,12,"email"],[15,17,7,17],[15,20,7,78,"userData"],[15,28,7,86],[15,29,7,12,"email"],[15,34,7,17],[16,10,7,19,"password"],[16,18,7,27],[16,21,7,78,"userData"],[16,29,7,86],[16,30,7,19,"password"],[16,38,7,27],[17,10,7,29,"name"],[17,14,7,33],[17,17,7,78,"userData"],[17,25,7,86],[17,26,7,29,"name"],[17,30,7,33],[18,10,7,35,"address"],[18,17,7,42],[18,20,7,78,"userData"],[18,28,7,86],[18,29,7,35,"address"],[18,36,7,42],[19,10,7,44,"occupation"],[19,20,7,54],[19,23,7,78,"userData"],[19,31,7,86],[19,32,7,44,"occupation"],[19,42,7,54],[20,10,7,56,"emergencyContacts"],[20,27,7,73],[20,30,7,78,"userData"],[20,38,7,86],[20,39,7,56,"emergencyContacts"],[20,56,7,73],[22,8,9,4],[23,8,10,4],[24,8,11,4],[24,12,11,4,"_yield$supabase$auth$"],[24,33,11,4],[24,42,11,55,"supabase"],[24,60,11,63],[24,61,11,64,"auth"],[24,65,11,68],[24,66,11,69,"signUp"],[24,72,11,75],[24,73,11,76],[25,12,12,6,"email"],[25,17,12,11],[26,12,13,6,"password"],[27,10,14,4],[27,11,14,5],[27,12,14,6],[28,10,11,18,"authData"],[28,18,11,26],[28,21,11,26,"_yield$supabase$auth$"],[28,42,11,26],[28,43,11,12,"data"],[28,47,11,16],[29,10,11,35,"authError"],[29,19,11,44],[29,22,11,44,"_yield$supabase$auth$"],[29,43,11,44],[29,44,11,28,"error"],[29,49,11,33],[30,8,16,4],[30,12,16,8,"authError"],[30,21,16,17],[30,23,16,19],[31,10,17,6,"console"],[31,17,17,13],[31,18,17,14,"error"],[31,23,17,19],[31,24,17,20],[31,46,17,42],[31,48,17,44,"authError"],[31,57,17,53],[31,58,17,54],[32,10,18,6],[32,17,18,13],[33,12,18,15,"success"],[33,19,18,22],[33,21,18,24],[33,26,18,29],[34,12,18,31,"error"],[34,17,18,36],[34,19,18,38,"authError"],[34,28,18,47],[34,29,18,48,"message"],[35,10,18,56],[35,11,18,57],[36,8,19,4],[38,8,21,4],[39,8,22,4],[39,12,22,8,"userId"],[39,18,22,14],[39,21,22,17,"authData"],[39,29,22,25],[39,30,22,26,"user"],[39,34,22,30],[39,36,22,32,"id"],[39,38,22,34],[40,8,23,4],[40,12,23,8],[40,13,23,9,"userId"],[40,19,23,15],[40,21,23,17],[41,10,24,6],[41,14,24,6,"_yield$supabase$auth$2"],[41,36,24,6],[41,45,24,39,"supabase"],[41,63,24,47],[41,64,24,48,"auth"],[41,68,24,52],[41,69,24,53,"getUser"],[41,76,24,60],[41,77,24,61],[41,78,24,62],[42,12,24,22,"user"],[42,16,24,26],[42,19,24,26,"_yield$supabase$auth$2"],[42,41,24,26],[42,42,24,14,"data"],[42,46,24,18],[42,47,24,22,"user"],[42,51,24,26],[43,10,25,6,"userId"],[43,16,25,12],[43,19,25,15,"user"],[43,23,25,19],[43,25,25,21,"id"],[43,27,25,23],[44,8,26,4],[45,8,28,4],[45,12,28,8],[45,13,28,9,"userId"],[45,19,28,15],[45,21,28,17],[46,10,29,6],[46,17,29,13],[47,12,29,15,"success"],[47,19,29,22],[47,21,29,24],[47,26,29,29],[48,12,29,31,"error"],[48,17,29,36],[48,19,29,38],[49,10,29,79],[49,11,29,80],[50,8,30,4],[52,8,32,4],[53,8,33,4],[53,14,33,10],[53,18,33,14,"Promise"],[53,25,33,21],[53,26,33,22,"resolve"],[53,33,33,29],[53,37,33,33,"setTimeout"],[53,47,33,43],[53,48,33,44,"resolve"],[53,55,33,51],[53,57,33,53],[53,60,33,56],[53,61,33,57],[53,62,33,58],[55,8,35,4],[56,8,36,4],[57,8,37,4],[57,12,37,4,"_yield$supabase$from$"],[57,33,37,4],[57,42,37,39,"supabase"],[57,60,37,47],[57,61,38,7,"from"],[57,65,38,11],[57,66,38,12],[57,73,38,19],[57,74,38,20],[57,75,39,7,"update"],[57,81,39,13],[57,82,39,14],[58,12,40,8,"name"],[58,16,40,12],[59,12,41,8,"address"],[59,19,41,15],[59,21,41,17,"address"],[59,28,41,24],[59,32,41,28],[59,34,41,30],[60,12,42,8,"occupation"],[60,22,42,18],[60,24,42,20,"occupation"],[60,34,42,30],[60,38,42,34],[60,40,42,36],[61,12,43,8,"updated_at"],[61,22,43,18],[61,24,43,20],[61,28,43,24,"Date"],[61,32,43,28],[61,33,43,29],[61,34,43,30],[61,35,43,31,"toISOString"],[61,46,43,42],[61,47,43,43],[62,10,44,6],[62,11,44,7],[62,12,44,8],[62,13,45,7,"eq"],[62,15,45,9],[62,16,45,10],[62,20,45,14],[62,22,45,16,"userId"],[62,28,45,22],[62,29,45,23],[63,10,37,19,"userError"],[63,19,37,28],[63,22,37,28,"_yield$supabase$from$"],[63,43,37,28],[63,44,37,12,"error"],[63,49,37,17],[64,8,47,4],[64,12,47,8,"userError"],[64,21,47,17],[64,23,47,19],[65,10,48,6,"console"],[65,17,48,13],[65,18,48,14,"error"],[65,23,48,19],[65,24,48,20],[65,52,48,48],[65,54,48,50,"userError"],[65,63,48,59],[65,64,48,60],[66,10,49,6],[67,10,50,6],[67,14,50,6,"_yield$supabase$from$2"],[67,36,50,6],[67,45,50,43,"supabase"],[67,63,50,51],[67,64,51,9,"from"],[67,68,51,13],[67,69,51,14],[67,76,51,21],[67,77,51,22],[67,78,52,9,"insert"],[67,84,52,15],[67,85,52,16],[67,86,53,10],[68,14,54,12,"id"],[68,16,54,14],[68,18,54,16,"userId"],[68,24,54,22],[69,14,55,12,"email"],[69,19,55,17],[70,14,56,12,"name"],[70,18,56,16],[71,14,57,12,"address"],[71,21,57,19],[71,23,57,21,"address"],[71,30,57,28],[71,34,57,32],[71,36,57,34],[72,14,58,12,"occupation"],[72,24,58,22],[72,26,58,24,"occupation"],[72,36,58,34],[72,40,58,38],[72,42,58,40],[73,14,59,12,"created_at"],[73,24,59,22],[73,26,59,24],[73,30,59,28,"Date"],[73,34,59,32],[73,35,59,33],[73,36,59,34],[73,37,59,35,"toISOString"],[73,48,59,46],[73,49,59,47],[73,50,59,48],[74,14,60,12,"updated_at"],[74,24,60,22],[74,26,60,24],[74,30,60,28,"Date"],[74,34,60,32],[74,35,60,33],[74,36,60,34],[74,37,60,35,"toISOString"],[74,48,60,46],[74,49,60,47],[75,12,61,10],[75,13,61,11],[75,14,62,9],[75,15,62,10],[76,12,50,21,"insertError"],[76,23,50,32],[76,26,50,32,"_yield$supabase$from$2"],[76,48,50,32],[76,49,50,14,"error"],[76,54,50,19],[77,10,64,6],[77,14,64,10,"insertError"],[77,25,64,21],[77,27,64,23],[78,12,65,8,"console"],[78,19,65,15],[78,20,65,16,"error"],[78,25,65,21],[78,26,65,22],[78,63,65,59],[78,65,65,61,"insertError"],[78,76,65,72],[78,77,65,73],[79,12,66,8],[79,19,66,15],[80,14,66,17,"success"],[80,21,66,24],[80,23,66,26],[80,28,66,31],[81,14,66,33,"error"],[81,19,66,38],[81,21,66,40],[81,54,66,73],[81,57,66,76,"insertError"],[81,68,66,87],[81,69,66,88,"message"],[82,12,66,96],[82,13,66,97],[83,10,67,6],[84,8,68,4],[86,8,70,4],[87,8,71,4],[87,12,71,10,"contactsToInsert"],[87,28,71,26],[87,31,71,29],[87,32,71,30,"emergencyContacts"],[87,49,71,47],[87,53,71,51],[87,55,71,53],[87,57,71,55,"map"],[87,60,71,58],[87,61,71,60,"contact"],[87,68,71,67],[87,73,71,73],[88,10,72,6,"user_id"],[88,17,72,13],[88,19,72,15,"userId"],[88,25,72,21],[89,10,73,6,"name"],[89,14,73,10],[89,16,73,12,"contact"],[89,23,73,19],[89,24,73,20,"name"],[89,28,73,24],[90,10,74,6,"phone"],[90,15,74,11],[90,17,74,13,"contact"],[90,24,74,20],[90,25,74,21,"phone"],[91,8,75,4],[91,9,75,5],[91,10,75,6],[91,11,75,7],[92,8,77,4],[92,12,77,8,"contactsToInsert"],[92,28,77,24],[92,29,77,25,"length"],[92,35,77,31],[92,38,77,34],[92,39,77,35],[92,41,77,37],[93,10,78,6],[93,14,78,6,"_yield$supabase$from$3"],[93,36,78,6],[93,45,78,45,"supabase"],[93,63,78,53],[93,64,79,9,"from"],[93,68,79,13],[93,69,79,14],[93,89,79,34],[93,90,79,35],[93,91,80,9,"insert"],[93,97,80,15],[93,98,80,16,"contactsToInsert"],[93,114,80,32],[93,115,80,33],[94,12,78,21,"contactsError"],[94,25,78,34],[94,28,78,34,"_yield$supabase$from$3"],[94,50,78,34],[94,51,78,14,"error"],[94,56,78,19],[95,10,82,6],[95,14,82,10,"contactsError"],[95,27,82,23],[95,29,82,25],[96,12,83,8,"console"],[96,19,83,15],[96,20,83,16,"error"],[96,25,83,21],[96,26,83,22],[96,60,83,56],[96,62,83,58,"contactsError"],[96,75,83,71],[96,76,83,72],[97,12,84,8],[97,19,84,15],[98,14,84,17,"success"],[98,21,84,24],[98,23,84,26],[98,28,84,31],[99,14,84,33,"error"],[99,19,84,38],[99,21,84,40],[99,57,84,76],[99,60,84,79,"contactsError"],[99,73,84,92],[99,74,84,93,"message"],[100,12,84,101],[100,13,84,102],[101,10,85,6],[102,8,86,4],[104,8,88,4],[105,8,89,4,"console"],[105,15,89,11],[105,16,89,12,"log"],[105,19,89,15],[105,20,89,16],[105,66,89,62],[105,67,89,63],[106,8,90,4],[106,15,90,11],[107,10,90,13,"success"],[107,17,90,20],[107,19,90,22],[107,23,90,26],[108,10,90,28,"user"],[108,14,90,32],[108,16,90,34,"authData"],[108,24,90,42],[108,25,90,43,"user"],[109,8,90,48],[109,9,90,49],[110,6,91,2],[110,7,91,3],[110,8,91,4],[110,15,91,11,"error"],[110,20,91,16],[110,22,91,18],[111,8,92,4,"console"],[111,15,92,11],[111,16,92,12,"error"],[111,21,92,17],[111,22,92,18],[111,43,92,39],[111,45,92,41,"error"],[111,50,92,46],[111,51,92,47],[112,8,93,4],[112,15,93,11],[113,10,93,13,"success"],[113,17,93,20],[113,19,93,22],[113,24,93,27],[114,10,93,29,"error"],[114,15,93,34],[114,17,93,36,"error"],[114,22,93,41],[114,23,93,42,"message"],[115,8,93,50],[115,9,93,51],[116,6,94,2],[117,4,95,0],[117,5,95,1],[118,4,95,1],[118,20,5,13,"registerUser"],[118,32,5,25,"registerUser"],[118,33,5,25,"_x"],[118,35,5,25],[119,6,5,25],[119,13,5,25,"_ref"],[119,17,5,25],[119,18,5,25,"apply"],[119,23,5,25],[119,30,5,25,"arguments"],[119,39,5,25],[120,4,5,25],[121,2,5,25],[121,5,95,1],[123,2,97,0],[124,2,98,7],[124,6,98,13,"loginUser"],[124,15,98,22],[124,18,98,22,"exports"],[124,25,98,22],[124,26,98,22,"loginUser"],[124,35,98,22],[125,4,98,22],[125,8,98,22,"_ref2"],[125,13,98,22],[125,20,98,22,"_asyncToGenerator2"],[125,38,98,22],[125,39,98,22,"default"],[125,46,98,22],[125,48,98,25],[125,59,98,32,"email"],[125,64,98,37],[125,66,98,39,"password"],[125,74,98,47],[125,76,98,52],[126,6,99,2],[126,10,99,6],[127,8,100,4],[127,12,100,4,"_yield$supabase$auth$3"],[127,34,100,4],[127,43,100,34,"supabase"],[127,61,100,42],[127,62,100,43,"auth"],[127,66,100,47],[127,67,100,48,"signInWithPassword"],[127,85,100,66],[127,86,100,67],[128,12,100,69,"email"],[128,17,100,74],[129,12,100,76,"password"],[130,10,100,85],[130,11,100,86],[130,12,100,87],[131,10,100,12,"data"],[131,14,100,16],[131,17,100,16,"_yield$supabase$auth$3"],[131,39,100,16],[131,40,100,12,"data"],[131,44,100,16],[132,10,100,18,"error"],[132,15,100,23],[132,18,100,23,"_yield$supabase$auth$3"],[132,40,100,23],[132,41,100,18,"error"],[132,46,100,23],[133,8,101,4],[133,12,101,8,"error"],[133,17,101,13],[133,19,101,15],[133,26,101,22],[134,10,101,24,"success"],[134,17,101,31],[134,19,101,33],[134,24,101,38],[135,10,101,40,"error"],[135,15,101,45],[135,17,101,47,"error"],[135,22,101,52],[135,23,101,53,"message"],[136,8,101,61],[136,9,101,62],[137,8,102,4],[137,15,102,11],[138,10,102,13,"success"],[138,17,102,20],[138,19,102,22],[138,23,102,26],[139,10,102,28,"user"],[139,14,102,32],[139,16,102,34,"data"],[139,20,102,38],[139,21,102,39,"user"],[140,8,102,44],[140,9,102,45],[141,6,103,2],[141,7,103,3],[141,8,103,4],[141,15,103,11,"error"],[141,20,103,16],[141,22,103,18],[142,8,104,4],[142,15,104,11],[143,10,104,13,"success"],[143,17,104,20],[143,19,104,22],[143,24,104,27],[144,10,104,29,"error"],[144,15,104,34],[144,17,104,36,"error"],[144,22,104,41],[144,23,104,42,"message"],[145,8,104,50],[145,9,104,51],[146,6,105,2],[147,4,106,0],[147,5,106,1],[148,4,106,1],[148,20,98,13,"loginUser"],[148,29,98,22,"loginUser"],[148,30,98,22,"_x2"],[148,33,98,22],[148,35,98,22,"_x3"],[148,38,98,22],[149,6,98,22],[149,13,98,22,"_ref2"],[149,18,98,22],[149,19,98,22,"apply"],[149,24,98,22],[149,31,98,22,"arguments"],[149,40,98,22],[150,4,98,22],[151,2,98,22],[151,5,106,1],[153,2,108,0],[154,2,109,7],[154,6,109,13,"logoutUser"],[154,16,109,23],[154,19,109,23,"exports"],[154,26,109,23],[154,27,109,23,"logoutUser"],[154,37,109,23],[155,4,109,23],[155,8,109,23,"_ref3"],[155,13,109,23],[155,20,109,23,"_asyncToGenerator2"],[155,38,109,23],[155,39,109,23,"default"],[155,46,109,23],[155,48,109,26],[155,61,109,38],[156,6,110,2],[156,10,110,6],[157,8,111,4,"console"],[157,15,111,11],[157,16,111,12,"log"],[157,19,111,15],[157,20,111,16],[157,51,111,47],[157,52,111,48],[159,8,113,4],[160,8,114,4],[160,12,114,4,"_yield$supabase$auth$4"],[160,34,114,4],[160,43,114,28,"supabase"],[160,61,114,36],[160,62,114,37,"auth"],[160,66,114,41],[160,67,114,42,"signOut"],[160,74,114,49],[160,75,114,50],[160,76,114,51],[161,10,114,12,"error"],[161,15,114,17],[161,18,114,17,"_yield$supabase$auth$4"],[161,40,114,17],[161,41,114,12,"error"],[161,46,114,17],[162,8,115,4],[162,12,115,8,"error"],[162,17,115,13],[162,19,115,15],[163,10,116,6,"console"],[163,17,116,13],[163,18,116,14,"error"],[163,23,116,19],[163,24,116,20],[163,49,116,45],[163,51,116,47,"error"],[163,56,116,52],[163,57,116,53],[164,10,117,6],[164,17,117,13],[165,12,117,15,"success"],[165,19,117,22],[165,21,117,24],[165,26,117,29],[166,12,117,31,"error"],[166,17,117,36],[166,19,117,38,"error"],[166,24,117,43],[166,25,117,44,"message"],[167,10,117,52],[167,11,117,53],[168,8,118,4],[169,8,120,4,"console"],[169,15,120,11],[169,16,120,12,"log"],[169,19,120,15],[169,20,120,16],[169,48,120,44],[169,49,120,45],[171,8,122,4],[172,8,123,4],[173,8,124,4],[173,12,124,8],[174,10,125,6],[175,10,126,6],[175,14,126,10],[175,21,126,17,"localStorage"],[175,33,126,29],[175,38,126,34],[175,49,126,45],[175,51,126,47],[176,12,127,8,"localStorage"],[176,24,127,20],[176,25,127,21,"removeItem"],[176,35,127,31],[176,36,127,32],[176,57,127,53],[176,58,127,54],[177,10,128,6],[178,8,129,4],[178,9,129,5],[178,10,129,6],[178,17,129,13,"storageError"],[178,29,129,25],[178,31,129,27],[179,10,130,6,"console"],[179,17,130,13],[179,18,130,14,"log"],[179,21,130,17],[179,22,130,18],[179,57,130,53],[179,59,130,55,"storageError"],[179,71,130,67],[179,72,130,68,"message"],[179,79,130,75],[179,80,130,76],[180,8,131,4],[181,8,133,4,"console"],[181,15,133,11],[181,16,133,12,"log"],[181,19,133,15],[181,20,133,16],[181,52,133,48],[181,53,133,49],[182,8,134,4],[182,15,134,11],[183,10,134,13,"success"],[183,17,134,20],[183,19,134,22],[184,8,134,27],[184,9,134,28],[185,6,135,2],[185,7,135,3],[185,8,135,4],[185,15,135,11,"error"],[185,20,135,16],[185,22,135,18],[186,8,136,4,"console"],[186,15,136,11],[186,16,136,12,"error"],[186,21,136,17],[186,22,136,18],[186,37,136,33],[186,39,136,35,"error"],[186,44,136,40],[186,45,136,41],[187,8,137,4],[187,15,137,11],[188,10,137,13,"success"],[188,17,137,20],[188,19,137,22],[188,24,137,27],[189,10,137,29,"error"],[189,15,137,34],[189,17,137,36,"error"],[189,22,137,41],[189,23,137,42,"message"],[190,8,137,50],[190,9,137,51],[191,6,138,2],[192,4,139,0],[192,5,139,1],[193,4,139,1],[193,20,109,13,"logoutUser"],[193,30,109,23,"logoutUser"],[193,31,109,23],[194,6,109,23],[194,13,109,23,"_ref3"],[194,18,109,23],[194,19,109,23,"apply"],[194,24,109,23],[194,31,109,23,"arguments"],[194,40,109,23],[195,4,109,23],[196,2,109,23],[196,5,139,1],[198,2,141,0],[199,2,142,7],[199,6,142,13,"getUserData"],[199,17,142,24],[199,20,142,24,"exports"],[199,27,142,24],[199,28,142,24,"getUserData"],[199,39,142,24],[200,4,142,24],[200,8,142,24,"_ref4"],[200,13,142,24],[200,20,142,24,"_asyncToGenerator2"],[200,38,142,24],[200,39,142,24,"default"],[200,46,142,24],[200,48,142,27],[200,59,142,34,"userId"],[200,65,142,40],[200,67,142,45],[201,6,143,2],[201,10,143,6],[202,8,144,4],[202,12,144,4,"_yield$supabase$from$4"],[202,34,144,4],[202,43,144,55,"supabase"],[202,61,144,63],[202,62,145,7,"from"],[202,66,145,11],[202,67,145,12],[202,74,145,19],[202,75,145,20],[202,76,146,7,"select"],[202,82,146,13],[202,83,146,14],[202,86,146,17],[202,87,146,18],[202,88,147,7,"eq"],[202,90,147,9],[202,91,147,10],[202,95,147,14],[202,97,147,16,"userId"],[202,103,147,22],[202,104,147,23],[202,105,148,7,"single"],[202,111,148,13],[202,112,148,14],[202,113,148,15],[203,10,144,18,"userData"],[203,18,144,26],[203,21,144,26,"_yield$supabase$from$4"],[203,43,144,26],[203,44,144,12,"data"],[203,48,144,16],[204,10,144,35,"userError"],[204,19,144,44],[204,22,144,44,"_yield$supabase$from$4"],[204,44,144,44],[204,45,144,28,"error"],[204,50,144,33],[205,8,150,4],[205,12,150,8,"userError"],[205,21,150,17],[205,23,150,19],[205,29,150,25,"userError"],[205,38,150,34],[206,8,152,4],[206,12,152,4,"_yield$supabase$from$5"],[206,34,152,4],[206,43,152,59,"supabase"],[206,61,152,67],[206,62,153,7,"from"],[206,66,153,11],[206,67,153,12],[206,87,153,32],[206,88,153,33],[206,89,154,7,"select"],[206,95,154,13],[206,96,154,14],[206,99,154,17],[206,100,154,18],[206,101,155,7,"eq"],[206,103,155,9],[206,104,155,10],[206,113,155,19],[206,115,155,21,"userId"],[206,121,155,27],[206,122,155,28],[207,10,152,18,"contacts"],[207,18,152,26],[207,21,152,26,"_yield$supabase$from$5"],[207,43,152,26],[207,44,152,12,"data"],[207,48,152,16],[208,10,152,35,"contactsError"],[208,23,152,48],[208,26,152,48,"_yield$supabase$from$5"],[208,48,152,48],[208,49,152,28,"error"],[208,54,152,33],[209,8,157,4],[209,12,157,8,"contactsError"],[209,25,157,21],[209,27,157,23],[209,33,157,29,"contactsError"],[209,46,157,42],[210,8,159,4],[210,15,159,11],[211,10,160,6,"success"],[211,17,160,13],[211,19,160,15],[211,23,160,19],[212,10,161,6,"data"],[212,14,161,10],[212,16,161,12],[213,12,161,14],[213,15,161,17,"userData"],[213,23,161,25],[214,12,161,27,"emergencyContacts"],[214,29,161,44],[214,31,161,46,"contacts"],[214,39,161,54],[214,43,161,58],[215,10,161,61],[216,8,162,4],[216,9,162,5],[217,6,163,2],[217,7,163,3],[217,8,163,4],[217,15,163,11,"error"],[217,20,163,16],[217,22,163,18],[218,8,164,4,"console"],[218,15,164,11],[218,16,164,12,"error"],[218,21,164,17],[218,22,164,18],[218,44,164,40],[218,46,164,42,"error"],[218,51,164,47],[218,52,164,48],[219,8,165,4],[219,15,165,11],[220,10,165,13,"success"],[220,17,165,20],[220,19,165,22],[220,24,165,27],[221,10,165,29,"error"],[221,15,165,34],[221,17,165,36,"error"],[221,22,165,41],[221,23,165,42,"message"],[222,8,165,50],[222,9,165,51],[223,6,166,2],[224,4,167,0],[224,5,167,1],[225,4,167,1],[225,20,142,13,"getUserData"],[225,31,142,24,"getUserData"],[225,32,142,24,"_x4"],[225,35,142,24],[226,6,142,24],[226,13,142,24,"_ref4"],[226,18,142,24],[226,19,142,24,"apply"],[226,24,142,24],[226,31,142,24,"arguments"],[226,40,142,24],[227,4,142,24],[228,2,142,24],[228,5,167,1],[230,2,169,0],[231,2,170,7],[231,6,170,13,"getCurrentUser"],[231,20,170,27],[231,23,170,27,"exports"],[231,30,170,27],[231,31,170,27,"getCurrentUser"],[231,45,170,27],[232,4,170,27],[232,8,170,27,"_ref5"],[232,13,170,27],[232,20,170,27,"_asyncToGenerator2"],[232,38,170,27],[232,39,170,27,"default"],[232,46,170,27],[232,48,170,30],[232,61,170,42],[233,6,171,2],[233,10,171,2,"_yield$supabase$auth$5"],[233,32,171,2],[233,41,171,42,"supabase"],[233,59,171,50],[233,60,171,51,"auth"],[233,64,171,55],[233,65,171,56,"getUser"],[233,72,171,63],[233,73,171,64],[233,74,171,65],[234,8,171,18,"user"],[234,12,171,22],[234,15,171,22,"_yield$supabase$auth$5"],[234,37,171,22],[234,38,171,10,"data"],[234,42,171,14],[234,43,171,18,"user"],[234,47,171,22],[235,8,171,26,"error"],[235,13,171,31],[235,16,171,31,"_yield$supabase$auth$5"],[235,38,171,31],[235,39,171,26,"error"],[235,44,171,31],[236,6,172,2],[236,13,172,9,"error"],[236,18,172,14],[236,21,172,17],[236,25,172,21],[236,28,172,24,"user"],[236,32,172,28],[237,4,173,0],[237,5,173,1],[238,4,173,1],[238,20,170,13,"getCurrentUser"],[238,34,170,27,"getCurrentUser"],[238,35,170,27],[239,6,170,27],[239,13,170,27,"_ref5"],[239,18,170,27],[239,19,170,27,"apply"],[239,24,170,27],[239,31,170,27,"arguments"],[239,40,170,27],[240,4,170,27],[241,2,170,27],[241,5,173,1],[243,2,175,0],[244,2,176,7],[244,6,176,13,"onAuthChange"],[244,18,176,25],[244,21,176,29,"callback"],[244,29,176,37],[244,33,176,42],[245,4,177,2],[245,8,177,2,"_supabase$auth$onAuth"],[245,29,177,2],[245,32,177,37,"supabase"],[245,50,177,45],[245,51,177,46,"auth"],[245,55,177,50],[245,56,177,51,"onAuthStateChange"],[245,73,177,68],[245,74,177,69],[245,75,177,70,"_event"],[245,81,177,76],[245,83,177,78,"session"],[245,90,177,85],[245,95,177,90],[246,8,178,4,"callback"],[246,16,178,12],[246,17,178,13,"session"],[246,24,178,20],[246,26,178,22,"user"],[246,30,178,26],[246,34,178,30],[246,38,178,34],[246,39,178,35],[247,6,179,2],[247,7,179,3],[247,8,179,4],[248,6,177,18,"subscription"],[248,18,177,30],[248,21,177,30,"_supabase$auth$onAuth"],[248,42,177,30],[248,43,177,10,"data"],[248,47,177,14],[248,48,177,18,"subscription"],[248,60,177,30],[249,4,180,2],[249,11,180,9],[249,17,180,15,"subscription"],[249,29,180,27],[249,30,180,28,"unsubscribe"],[249,41,180,39],[249,42,180,40],[249,43,180,41],[250,2,181,0],[250,3,181,1],[251,2,181,2,"exports"],[251,9,181,2],[251,10,181,2,"onAuthChange"],[251,22,181,2],[251,25,181,2,"onAuthChange"],[251,37,181,2],[252,0,181,2],[252,3]],"functionMap":{"names":["<global>","registerUser","Promise$argument_0","map$argument_0","loginUser","logoutUser","getUserData","getCurrentUser","onAuthChange","supabase.auth.onAuthStateChange$argument_0","<anonymous>"],"mappings":"AAA;4BCI;sBC4B,mCD;2DEsC;MFI;CDoB;yBIG;CJQ;0BKG;CL8B;2BMG;CNyB;8BOG;CPG;4BQG;qECC;GDE;SEC,gCF;CRC"}},"type":"js/module"}]}