{"dependencies":[{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"]}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"]}},{"name":"tslib","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":3,"column":16,"index":93},"end":{"line":3,"column":32,"index":109}}],"key":"vm88vOsSPZItrLOmMEyUuGkd1y4=","exportNames":["*"]}},{"name":"../lib/errors","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":17,"index":128},"end":{"line":4,"column":41,"index":152}}],"key":"+GSAvg/CWfG2ifOQrWLkai/D9hY=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _classCallCheck = require(_dependencyMap[0], \"@babel/runtime/helpers/classCallCheck\");\n  var _createClass = require(_dependencyMap[1], \"@babel/runtime/helpers/createClass\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  var tslib_1 = require(_dependencyMap[2], \"tslib\");\n  var errors_1 = require(_dependencyMap[3], \"../lib/errors\");\n  var StreamDownloadBuilder = /*#__PURE__*/function () {\n    function StreamDownloadBuilder(downloadFn, shouldThrowOnError) {\n      _classCallCheck(this, StreamDownloadBuilder);\n      this.downloadFn = downloadFn;\n      this.shouldThrowOnError = shouldThrowOnError;\n    }\n    return _createClass(StreamDownloadBuilder, [{\n      key: \"then\",\n      value: function then(onfulfilled, onrejected) {\n        return this.execute().then(onfulfilled, onrejected);\n      }\n    }, {\n      key: \"execute\",\n      value: function execute() {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n          try {\n            var result = yield this.downloadFn();\n            return {\n              data: result.body,\n              error: null\n            };\n          } catch (error) {\n            if (this.shouldThrowOnError) {\n              throw error;\n            }\n            if ((0, errors_1.isStorageError)(error)) {\n              return {\n                data: null,\n                error\n              };\n            }\n            throw error;\n          }\n        });\n      }\n    }]);\n  }();\n  exports.default = StreamDownloadBuilder;\n});","lineCount":49,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,6,1,13,"_classCallCheck"],[4,21,1,13],[4,24,1,13,"require"],[4,31,1,13],[4,32,1,13,"_dependencyMap"],[4,46,1,13],[5,2,1,13],[5,6,1,13,"_createClass"],[5,18,1,13],[5,21,1,13,"require"],[5,28,1,13],[5,29,1,13,"_dependencyMap"],[5,43,1,13],[6,2,2,0,"Object"],[6,8,2,6],[6,9,2,7,"defineProperty"],[6,23,2,21],[6,24,2,22,"exports"],[6,31,2,29],[6,33,2,31],[6,45,2,43],[6,47,2,45],[7,4,2,47,"value"],[7,9,2,52],[7,11,2,54],[8,2,2,59],[8,3,2,60],[8,4,2,61],[9,2,3,0],[9,6,3,6,"tslib_1"],[9,13,3,13],[9,16,3,16,"require"],[9,23,3,23],[9,24,3,23,"_dependencyMap"],[9,38,3,23],[9,50,3,31],[9,51,3,32],[10,2,4,0],[10,6,4,6,"errors_1"],[10,14,4,14],[10,17,4,17,"require"],[10,24,4,24],[10,25,4,24,"_dependencyMap"],[10,39,4,24],[10,59,4,40],[10,60,4,41],[11,2,4,42],[11,6,5,6,"StreamDownloadBuilder"],[11,27,5,27],[12,4,6,4],[12,13,6,4,"StreamDownloadBuilder"],[12,35,6,16,"downloadFn"],[12,45,6,26],[12,47,6,28,"shouldThrowOnError"],[12,65,6,46],[12,67,6,48],[13,6,6,48,"_classCallCheck"],[13,21,6,48],[13,28,6,48,"StreamDownloadBuilder"],[13,49,6,48],[14,6,7,8],[14,10,7,12],[14,11,7,13,"downloadFn"],[14,21,7,23],[14,24,7,26,"downloadFn"],[14,34,7,36],[15,6,8,8],[15,10,8,12],[15,11,8,13,"shouldThrowOnError"],[15,29,8,31],[15,32,8,34,"shouldThrowOnError"],[15,50,8,52],[16,4,9,4],[17,4,9,5],[17,11,9,5,"_createClass"],[17,23,9,5],[17,24,9,5,"StreamDownloadBuilder"],[17,45,9,5],[18,6,9,5,"key"],[18,9,9,5],[19,6,9,5,"value"],[19,11,9,5],[19,13,10,4],[19,22,10,4,"then"],[19,26,10,8,"then"],[19,27,10,9,"onfulfilled"],[19,38,10,20],[19,40,10,22,"onrejected"],[19,50,10,32],[19,52,10,34],[20,8,11,8],[20,15,11,15],[20,19,11,19],[20,20,11,20,"execute"],[20,27,11,27],[20,28,11,28],[20,29,11,29],[20,30,11,30,"then"],[20,34,11,34],[20,35,11,35,"onfulfilled"],[20,46,11,46],[20,48,11,48,"onrejected"],[20,58,11,58],[20,59,11,59],[21,6,12,4],[22,4,12,5],[23,6,12,5,"key"],[23,9,12,5],[24,6,12,5,"value"],[24,11,12,5],[24,13,13,4],[24,22,13,4,"execute"],[24,29,13,11,"execute"],[24,30,13,11],[24,32,13,14],[25,8,14,8],[25,15,14,15,"tslib_1"],[25,22,14,22],[25,23,14,23,"__awaiter"],[25,32,14,32],[25,33,14,33],[25,37,14,37],[25,39,14,39],[25,44,14,44],[25,45,14,45],[25,47,14,47],[25,52,14,52],[25,53,14,53],[25,55,14,55],[25,68,14,68],[26,10,15,12],[26,14,15,16],[27,12,16,16],[27,16,16,22,"result"],[27,22,16,28],[27,25,16,31],[27,31,16,37],[27,35,16,41],[27,36,16,42,"downloadFn"],[27,46,16,52],[27,47,16,53],[27,48,16,54],[28,12,17,16],[28,19,17,23],[29,14,18,20,"data"],[29,18,18,24],[29,20,18,26,"result"],[29,26,18,32],[29,27,18,33,"body"],[29,31,18,37],[30,14,19,20,"error"],[30,19,19,25],[30,21,19,27],[31,12,20,16],[31,13,20,17],[32,10,21,12],[32,11,21,13],[32,12,22,12],[32,19,22,19,"error"],[32,24,22,24],[32,26,22,26],[33,12,23,16],[33,16,23,20],[33,20,23,24],[33,21,23,25,"shouldThrowOnError"],[33,39,23,43],[33,41,23,45],[34,14,24,20],[34,20,24,26,"error"],[34,25,24,31],[35,12,25,16],[36,12,26,16],[36,16,26,20],[36,17,26,21],[36,18,26,22],[36,20,26,24,"errors_1"],[36,28,26,32],[36,29,26,33,"isStorageError"],[36,43,26,47],[36,45,26,49,"error"],[36,50,26,54],[36,51,26,55],[36,53,26,57],[37,14,27,20],[37,21,27,27],[38,16,27,29,"data"],[38,20,27,33],[38,22,27,35],[38,26,27,39],[39,16,27,41,"error"],[40,14,27,47],[40,15,27,48],[41,12,28,16],[42,12,29,16],[42,18,29,22,"error"],[42,23,29,27],[43,10,30,12],[44,8,31,8],[44,9,31,9],[44,10,31,10],[45,6,32,4],[46,4,32,5],[47,2,32,5],[48,2,34,0,"exports"],[48,9,34,7],[48,10,34,8,"default"],[48,17,34,15],[48,20,34,18,"StreamDownloadBuilder"],[48,41,34,39],[49,0,34,40],[49,3]],"functionMap":{"names":["<global>","StreamDownloadBuilder","constructor","then","execute","tslib_1.__awaiter$argument_3"],"mappings":"AAA;ACI;ICC;KDG;IEC;KFE;IGC;uDCC;SDiB;KHC;CDC"}},"type":"js/module"}]}