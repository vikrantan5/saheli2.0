{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"]}},{"name":"./ExpoFetchModule","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":52,"index":52}}],"key":"P9B3pIKSP9EYrIHgHPsfGsqsIiM=","exportNames":["*"]}},{"name":"./FetchErrors","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":53},"end":{"line":2,"column":43,"index":96}}],"key":"Py0AbJgz4NJxZsrHxsD2TKxsTxE=","exportNames":["*"]}},{"name":"./FetchResponse","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":97},"end":{"line":3,"column":87,"index":184}}],"key":"sbqEEymZQmLSD/FlxJCSc4reIHw=","exportNames":["*"]}},{"name":"./RequestUtils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":253},"end":{"line":5,"column":95,"index":348}}],"key":"VOVFPapf0K7jZRsy9lUvCV1ZSC0=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.fetch = fetch;\n  var _asyncToGenerator2 = _interopRequireDefault(require(_dependencyMap[1], \"@babel/runtime/helpers/asyncToGenerator\"));\n  var _ExpoFetchModule = require(_dependencyMap[2], \"./ExpoFetchModule\");\n  var _FetchErrors = require(_dependencyMap[3], \"./FetchErrors\");\n  var _FetchResponse = require(_dependencyMap[4], \"./FetchResponse\");\n  var _RequestUtils = require(_dependencyMap[5], \"./RequestUtils\");\n  // TODO(@kitten): Do we really want to use our own types for web standards?\n  function fetch(_x, _x2) {\n    return _fetch.apply(this, arguments);\n  }\n  /**\n   * A wrapper of `AbortSignal.addEventListener` that returns a cleanup function.\n   */\n  function _fetch() {\n    _fetch = (0, _asyncToGenerator2.default)(function* (url, init) {\n      var abortSubscription = null;\n      var response = new _FetchResponse.FetchResponse(() => {\n        abortSubscription?.();\n      });\n      var request = new _ExpoFetchModule.ExpoFetchModule.NativeRequest(response);\n      var headers = (0, _RequestUtils.normalizeHeadersInit)(init?.headers);\n      var _yield$normalizeBodyI = yield (0, _RequestUtils.normalizeBodyInitAsync)(init?.body),\n        requestBody = _yield$normalizeBodyI.body,\n        overriddenHeaders = _yield$normalizeBodyI.overriddenHeaders;\n      if (overriddenHeaders) {\n        headers = (0, _RequestUtils.overrideHeaders)(headers, overriddenHeaders);\n      }\n      var nativeRequestInit = {\n        credentials: init?.credentials ?? 'include',\n        headers,\n        method: init?.method ?? 'GET'\n      };\n      if (init?.signal && init.signal.aborted) {\n        throw new _FetchErrors.FetchError('The operation was aborted.');\n      }\n      abortSubscription = addAbortSignalListener(init?.signal, () => {\n        request.cancel();\n      });\n      try {\n        yield request.start(url, nativeRequestInit, requestBody);\n      } catch (e) {\n        if (e instanceof Error) {\n          throw _FetchErrors.FetchError.createFromError(e);\n        } else {\n          throw new _FetchErrors.FetchError(String(e));\n        }\n      }\n      return response;\n    });\n    return _fetch.apply(this, arguments);\n  }\n  function addAbortSignalListener(signal, listener) {\n    signal?.addEventListener('abort', listener);\n    return () => {\n      signal?.removeEventListener('abort', listener);\n    };\n  }\n});","lineCount":63,"map":[[8,2,1,0],[8,6,1,0,"_ExpoFetchModule"],[8,22,1,0],[8,25,1,0,"require"],[8,32,1,0],[8,33,1,0,"_dependencyMap"],[8,47,1,0],[9,2,2,0],[9,6,2,0,"_FetchErrors"],[9,18,2,0],[9,21,2,0,"require"],[9,28,2,0],[9,29,2,0,"_dependencyMap"],[9,43,2,0],[10,2,3,0],[10,6,3,0,"_FetchResponse"],[10,20,3,0],[10,23,3,0,"require"],[10,30,3,0],[10,31,3,0,"_dependencyMap"],[10,45,3,0],[11,2,5,0],[11,6,5,0,"_RequestUtils"],[11,19,5,0],[11,22,5,0,"require"],[11,29,5,0],[11,30,5,0,"_dependencyMap"],[11,44,5,0],[12,2,8,0],[13,2,8,0],[13,11,9,22,"fetch"],[13,16,9,27,"fetch"],[13,17,9,27,"_x"],[13,19,9,27],[13,21,9,27,"_x2"],[13,24,9,27],[14,4,9,27],[14,11,9,27,"_fetch"],[14,17,9,27],[14,18,9,27,"apply"],[14,23,9,27],[14,30,9,27,"arguments"],[14,39,9,27],[15,2,9,27],[16,2,48,0],[17,0,49,0],[18,0,50,0],[19,2,48,0],[19,11,48,0,"_fetch"],[19,18,48,0],[20,4,48,0,"_fetch"],[20,10,48,0],[20,17,48,0,"_asyncToGenerator2"],[20,35,48,0],[20,36,48,0,"default"],[20,43,48,0],[20,45,9,7],[20,56,9,28,"url"],[20,59,9,39],[20,61,9,41,"init"],[20,65,9,64],[20,67,9,90],[21,6,10,2],[21,10,10,6,"abortSubscription"],[21,27,10,64],[21,30,10,67],[21,34,10,71],[22,6,12,2],[22,10,12,8,"response"],[22,18,12,16],[22,21,12,19],[22,25,12,23,"FetchResponse"],[22,53,12,36],[22,54,12,37],[22,60,12,43],[23,8,13,4,"abortSubscription"],[23,25,13,21],[23,28,13,24],[23,29,13,25],[24,6,14,2],[24,7,14,3],[24,8,14,4],[25,6,15,2],[25,10,15,8,"request"],[25,17,15,15],[25,20,15,18],[25,24,15,22,"ExpoFetchModule"],[25,56,15,37],[25,57,15,38,"NativeRequest"],[25,70,15,51],[25,71,15,52,"response"],[25,79,15,60],[25,80,15,78],[26,6,17,2],[26,10,17,6,"headers"],[26,17,17,13],[26,20,17,16],[26,24,17,16,"normalizeHeadersInit"],[26,58,17,36],[26,60,17,37,"init"],[26,64,17,41],[26,66,17,43,"headers"],[26,73,17,50],[26,74,17,51],[27,6,19,2],[27,10,19,2,"_yield$normalizeBodyI"],[27,31,19,2],[27,40,19,57],[27,44,19,57,"normalizeBodyInitAsync"],[27,80,19,79],[27,82,19,80,"init"],[27,86,19,84],[27,88,19,86,"body"],[27,92,19,90],[27,93,19,91],[28,8,19,16,"requestBody"],[28,19,19,27],[28,22,19,27,"_yield$normalizeBodyI"],[28,43,19,27],[28,44,19,10,"body"],[28,48,19,14],[29,8,19,29,"overriddenHeaders"],[29,25,19,46],[29,28,19,46,"_yield$normalizeBodyI"],[29,49,19,46],[29,50,19,29,"overriddenHeaders"],[29,67,19,46],[30,6,20,2],[30,10,20,6,"overriddenHeaders"],[30,27,20,23],[30,29,20,25],[31,8,21,4,"headers"],[31,15,21,11],[31,18,21,14],[31,22,21,14,"overrideHeaders"],[31,51,21,29],[31,53,21,30,"headers"],[31,60,21,37],[31,62,21,39,"overriddenHeaders"],[31,79,21,56],[31,80,21,57],[32,6,22,2],[33,6,24,2],[33,10,24,8,"nativeRequestInit"],[33,27,24,44],[33,30,24,47],[34,8,25,4,"credentials"],[34,19,25,15],[34,21,25,17,"init"],[34,25,25,21],[34,27,25,23,"credentials"],[34,38,25,34],[34,42,25,38],[34,51,25,47],[35,8,26,4,"headers"],[35,15,26,11],[36,8,27,4,"method"],[36,14,27,10],[36,16,27,12,"init"],[36,20,27,16],[36,22,27,18,"method"],[36,28,27,24],[36,32,27,28],[37,6,28,2],[37,7,28,3],[38,6,30,2],[38,10,30,6,"init"],[38,14,30,10],[38,16,30,12,"signal"],[38,22,30,18],[38,26,30,22,"init"],[38,30,30,26],[38,31,30,27,"signal"],[38,37,30,33],[38,38,30,34,"aborted"],[38,45,30,41],[38,47,30,43],[39,8,31,4],[39,14,31,10],[39,18,31,14,"FetchError"],[39,41,31,24],[39,42,31,25],[39,70,31,53],[39,71,31,54],[40,6,32,2],[41,6,33,2,"abortSubscription"],[41,23,33,19],[41,26,33,22,"addAbortSignalListener"],[41,48,33,44],[41,49,33,45,"init"],[41,53,33,49],[41,55,33,51,"signal"],[41,61,33,57],[41,63,33,59],[41,69,33,65],[42,8,34,4,"request"],[42,15,34,11],[42,16,34,12,"cancel"],[42,22,34,18],[42,23,34,19],[42,24,34,20],[43,6,35,2],[43,7,35,3],[43,8,35,4],[44,6,36,2],[44,10,36,6],[45,8,37,4],[45,14,37,10,"request"],[45,21,37,17],[45,22,37,18,"start"],[45,27,37,23],[45,28,37,24,"url"],[45,31,37,27],[45,33,37,29,"nativeRequestInit"],[45,50,37,46],[45,52,37,48,"requestBody"],[45,63,37,59],[45,64,37,60],[46,6,38,2],[46,7,38,3],[46,8,38,4],[46,15,38,11,"e"],[46,16,38,21],[46,18,38,23],[47,8,39,4],[47,12,39,8,"e"],[47,13,39,9],[47,25,39,21,"Error"],[47,30,39,26],[47,32,39,28],[48,10,40,6],[48,16,40,12,"FetchError"],[48,39,40,22],[48,40,40,23,"createFromError"],[48,55,40,38],[48,56,40,39,"e"],[48,57,40,40],[48,58,40,41],[49,8,41,4],[49,9,41,5],[49,15,41,11],[50,10,42,6],[50,16,42,12],[50,20,42,16,"FetchError"],[50,43,42,26],[50,44,42,27,"String"],[50,50,42,33],[50,51,42,34,"e"],[50,52,42,35],[50,53,42,36],[50,54,42,37],[51,8,43,4],[52,6,44,2],[53,6,45,2],[53,13,45,9,"response"],[53,21,45,17],[54,4,46,0],[54,5,46,1],[55,4,46,1],[55,11,46,1,"_fetch"],[55,17,46,1],[55,18,46,1,"apply"],[55,23,46,1],[55,30,46,1,"arguments"],[55,39,46,1],[56,2,46,1],[57,2,51,0],[57,11,51,9,"addAbortSignalListener"],[57,33,51,31,"addAbortSignalListener"],[57,34,52,2,"signal"],[57,40,52,33],[57,42,53,2,"listener"],[57,50,53,58],[57,52,54,36],[58,4,55,2,"signal"],[58,10,55,8],[58,12,55,10,"addEventListener"],[58,28,55,26],[58,29,55,27],[58,36,55,34],[58,38,55,36,"listener"],[58,46,55,44],[58,47,55,45],[59,4,56,2],[59,11,56,9],[59,17,56,15],[60,6,57,4,"signal"],[60,12,57,10],[60,14,57,12,"removeEventListener"],[60,33,57,31],[60,34,57,32],[60,41,57,39],[60,43,57,41,"listener"],[60,51,57,49],[60,52,57,50],[61,4,58,2],[61,5,58,3],[62,2,59,0],[63,0,59,1],[63,3]],"functionMap":{"names":["<global>","fetch","FetchResponse$argument_0","addAbortSignalListener$argument_1","addAbortSignalListener","<anonymous>"],"mappings":"AAA;OCQ;qCCG;GDE;2DEmB;GFE;CDW;AIK;SCK;GDE;CJC"}},"type":"js/module"}]}