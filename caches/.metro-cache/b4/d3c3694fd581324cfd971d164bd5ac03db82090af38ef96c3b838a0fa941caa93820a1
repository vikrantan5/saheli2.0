{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"]}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"]}},{"name":"@babel/runtime/helpers/possibleConstructorReturn","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"aU3Lrys8xTVpYSDJal2nhppojC8=","exportNames":["*"]}},{"name":"@babel/runtime/helpers/getPrototypeOf","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"4DwyfFXBA53CJWVTVj5w3kH1PUg=","exportNames":["*"]}},{"name":"@babel/runtime/helpers/inherits","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"y0uNg4LxF1CLscQChxzgo5dfjvA=","exportNames":["*"]}},{"name":"@babel/runtime/helpers/classPrivateFieldLooseBase","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"jktBven9cFmiXr10q2uuMiBaNBg=","exportNames":["*"]}},{"name":"@babel/runtime/helpers/classPrivateFieldLooseKey","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YYsVumDWjUPySlBONhl8so2wff4=","exportNames":["*"]}},{"name":"./subscribable.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":24},"end":{"line":2,"column":49,"index":73}}],"key":"f0fxTGZggQRtb//cHMvH9AHIWOw=","exportNames":["*"]}},{"name":"./utils.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":74},"end":{"line":3,"column":38,"index":112}}],"key":"NIaSEHO1E48gsZc7jH9Ex1xTHgE=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.onlineManager = exports.OnlineManager = void 0;\n  var _classCallCheck2 = _interopRequireDefault(require(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\"));\n  var _createClass2 = _interopRequireDefault(require(_dependencyMap[2], \"@babel/runtime/helpers/createClass\"));\n  var _possibleConstructorReturn2 = _interopRequireDefault(require(_dependencyMap[3], \"@babel/runtime/helpers/possibleConstructorReturn\"));\n  var _getPrototypeOf2 = _interopRequireDefault(require(_dependencyMap[4], \"@babel/runtime/helpers/getPrototypeOf\"));\n  var _inherits2 = _interopRequireDefault(require(_dependencyMap[5], \"@babel/runtime/helpers/inherits\"));\n  var _classPrivateFieldLooseBase2 = _interopRequireDefault(require(_dependencyMap[6], \"@babel/runtime/helpers/classPrivateFieldLooseBase\"));\n  var _classPrivateFieldLooseKey2 = _interopRequireDefault(require(_dependencyMap[7], \"@babel/runtime/helpers/classPrivateFieldLooseKey\"));\n  var _subscribable = require(_dependencyMap[8], \"./subscribable.js\");\n  var _utils = require(_dependencyMap[9], \"./utils.js\");\n  var _online, _cleanup, _setup; // src/onlineManager.ts\n  function _callSuper(t, o, e) { return o = (0, _getPrototypeOf2.default)(o), (0, _possibleConstructorReturn2.default)(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], (0, _getPrototypeOf2.default)(t).constructor) : o.apply(t, e)); }\n  function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function () { return !!t; })(); }\n  var OnlineManager = exports.OnlineManager = (_online = /*#__PURE__*/(0, _classPrivateFieldLooseKey2.default)(\"online\"), _cleanup = /*#__PURE__*/(0, _classPrivateFieldLooseKey2.default)(\"cleanup\"), _setup = /*#__PURE__*/(0, _classPrivateFieldLooseKey2.default)(\"setup\"), /*#__PURE__*/function (_Subscribable) {\n    function OnlineManager() {\n      var _this;\n      (0, _classCallCheck2.default)(this, OnlineManager);\n      _this = _callSuper(this, OnlineManager);\n      Object.defineProperty(_this, _online, {\n        writable: true,\n        value: true\n      });\n      Object.defineProperty(_this, _cleanup, {\n        writable: true,\n        value: void 0\n      });\n      Object.defineProperty(_this, _setup, {\n        writable: true,\n        value: void 0\n      });\n      (0, _classPrivateFieldLooseBase2.default)(_this, _setup)[_setup] = onOnline => {\n        if (!_utils.isServer && window.addEventListener) {\n          var onlineListener = () => onOnline(true);\n          var offlineListener = () => onOnline(false);\n          window.addEventListener(\"online\", onlineListener, false);\n          window.addEventListener(\"offline\", offlineListener, false);\n          return () => {\n            window.removeEventListener(\"online\", onlineListener);\n            window.removeEventListener(\"offline\", offlineListener);\n          };\n        }\n        return;\n      };\n      return _this;\n    }\n    (0, _inherits2.default)(OnlineManager, _Subscribable);\n    return (0, _createClass2.default)(OnlineManager, [{\n      key: \"onSubscribe\",\n      value: function onSubscribe() {\n        if (!(0, _classPrivateFieldLooseBase2.default)(this, _cleanup)[_cleanup]) {\n          this.setEventListener((0, _classPrivateFieldLooseBase2.default)(this, _setup)[_setup]);\n        }\n      }\n    }, {\n      key: \"onUnsubscribe\",\n      value: function onUnsubscribe() {\n        if (!this.hasListeners()) {\n          (0, _classPrivateFieldLooseBase2.default)(this, _cleanup)[_cleanup]?.();\n          (0, _classPrivateFieldLooseBase2.default)(this, _cleanup)[_cleanup] = void 0;\n        }\n      }\n    }, {\n      key: \"setEventListener\",\n      value: function setEventListener(setup) {\n        (0, _classPrivateFieldLooseBase2.default)(this, _setup)[_setup] = setup;\n        (0, _classPrivateFieldLooseBase2.default)(this, _cleanup)[_cleanup]?.();\n        (0, _classPrivateFieldLooseBase2.default)(this, _cleanup)[_cleanup] = setup(this.setOnline.bind(this));\n      }\n    }, {\n      key: \"setOnline\",\n      value: function setOnline(online) {\n        var changed = (0, _classPrivateFieldLooseBase2.default)(this, _online)[_online] !== online;\n        if (changed) {\n          (0, _classPrivateFieldLooseBase2.default)(this, _online)[_online] = online;\n          this.listeners.forEach(listener => {\n            listener(online);\n          });\n        }\n      }\n    }, {\n      key: \"isOnline\",\n      value: function isOnline() {\n        return (0, _classPrivateFieldLooseBase2.default)(this, _online)[_online];\n      }\n    }]);\n  }(_subscribable.Subscribable));\n  var onlineManager = exports.onlineManager = new OnlineManager();\n});","lineCount":93,"map":[[14,2,2,0],[14,6,2,0,"_subscribable"],[14,19,2,0],[14,22,2,0,"require"],[14,29,2,0],[14,30,2,0,"_dependencyMap"],[14,44,2,0],[15,2,3,0],[15,6,3,0,"_utils"],[15,12,3,0],[15,15,3,0,"require"],[15,22,3,0],[15,23,3,0,"_dependencyMap"],[15,37,3,0],[16,2,3,38],[16,6,3,38,"_online"],[16,13,3,38],[16,15,3,38,"_cleanup"],[16,23,3,38],[16,25,3,38,"_setup"],[16,31,3,38],[16,33,1,0],[17,2,1,0],[17,11,1,0,"_callSuper"],[17,22,1,0,"t"],[17,23,1,0],[17,25,1,0,"o"],[17,26,1,0],[17,28,1,0,"e"],[17,29,1,0],[17,40,1,0,"o"],[17,41,1,0],[17,48,1,0,"_getPrototypeOf2"],[17,64,1,0],[17,65,1,0,"default"],[17,72,1,0],[17,74,1,0,"o"],[17,75,1,0],[17,82,1,0,"_possibleConstructorReturn2"],[17,109,1,0],[17,110,1,0,"default"],[17,117,1,0],[17,119,1,0,"t"],[17,120,1,0],[17,122,1,0,"_isNativeReflectConstruct"],[17,147,1,0],[17,152,1,0,"Reflect"],[17,159,1,0],[17,160,1,0,"construct"],[17,169,1,0],[17,170,1,0,"o"],[17,171,1,0],[17,173,1,0,"e"],[17,174,1,0],[17,186,1,0,"_getPrototypeOf2"],[17,202,1,0],[17,203,1,0,"default"],[17,210,1,0],[17,212,1,0,"t"],[17,213,1,0],[17,215,1,0,"constructor"],[17,226,1,0],[17,230,1,0,"o"],[17,231,1,0],[17,232,1,0,"apply"],[17,237,1,0],[17,238,1,0,"t"],[17,239,1,0],[17,241,1,0,"e"],[17,242,1,0],[18,2,1,0],[18,11,1,0,"_isNativeReflectConstruct"],[18,37,1,0],[18,51,1,0,"t"],[18,52,1,0],[18,56,1,0,"Boolean"],[18,63,1,0],[18,64,1,0,"prototype"],[18,73,1,0],[18,74,1,0,"valueOf"],[18,81,1,0],[18,82,1,0,"call"],[18,86,1,0],[18,87,1,0,"Reflect"],[18,94,1,0],[18,95,1,0,"construct"],[18,104,1,0],[18,105,1,0,"Boolean"],[18,112,1,0],[18,145,1,0,"t"],[18,146,1,0],[18,159,1,0,"_isNativeReflectConstruct"],[18,184,1,0],[18,196,1,0,"_isNativeReflectConstruct"],[18,197,1,0],[18,210,1,0,"t"],[18,211,1,0],[19,2,4,0],[19,6,4,4,"OnlineManager"],[19,19,4,17],[19,22,4,17,"exports"],[19,29,4,17],[19,30,4,17,"OnlineManager"],[19,43,4,17],[19,47,4,17,"_online"],[19,54,4,17],[19,74,4,17,"_classPrivateFieldLooseKey2"],[19,101,4,17],[19,102,4,17,"default"],[19,109,4,17],[19,122,4,17,"_cleanup"],[19,130,4,17],[19,150,4,17,"_classPrivateFieldLooseKey2"],[19,177,4,17],[19,178,4,17,"default"],[19,185,4,17],[19,199,4,17,"_setup"],[19,205,4,17],[19,225,4,17,"_classPrivateFieldLooseKey2"],[19,252,4,17],[19,253,4,17,"default"],[19,260,4,17],[19,295,4,17,"_Subscribable"],[19,308,4,17],[20,4,8,2],[20,13,8,2,"OnlineManager"],[20,27,8,2],[20,29,8,16],[21,6,8,16],[21,10,8,16,"_this"],[21,15,8,16],[22,6,8,16],[22,10,8,16,"_classCallCheck2"],[22,26,8,16],[22,27,8,16,"default"],[22,34,8,16],[22,42,8,16,"OnlineManager"],[22,55,8,16],[23,6,9,4,"_this"],[23,11,9,4],[23,14,9,4,"_callSuper"],[23,24,9,4],[23,31,9,4,"OnlineManager"],[23,44,9,4],[24,6,9,12,"Object"],[24,12,9,12],[24,13,9,12,"defineProperty"],[24,27,9,12],[24,28,9,12,"_this"],[24,33,9,12],[24,35,9,12,"_online"],[24,42,9,12],[25,8,9,12,"writable"],[25,16,9,12],[26,8,9,12,"value"],[26,13,9,12],[26,15,5,12],[27,6,5,16],[28,6,5,16,"Object"],[28,12,5,16],[28,13,5,16,"defineProperty"],[28,27,5,16],[28,28,5,16,"_this"],[28,33,5,16],[28,35,5,16,"_cleanup"],[28,43,5,16],[29,8,5,16,"writable"],[29,16,5,16],[30,8,5,16,"value"],[30,13,5,16],[31,6,5,16],[32,6,5,16,"Object"],[32,12,5,16],[32,13,5,16,"defineProperty"],[32,27,5,16],[32,28,5,16,"_this"],[32,33,5,16],[32,35,5,16,"_setup"],[32,41,5,16],[33,8,5,16,"writable"],[33,16,5,16],[34,8,5,16,"value"],[34,13,5,16],[35,6,5,16],[36,6,10,4],[36,10,10,4,"_classPrivateFieldLooseBase2"],[36,38,10,4],[36,39,10,4,"default"],[36,46,10,4],[36,48,10,4,"_this"],[36,53,10,4],[36,55,10,4,"_setup"],[36,61,10,4],[36,63,10,4,"_setup"],[36,69,10,4],[36,73,10,19,"onOnline"],[36,81,10,27],[36,85,10,32],[37,8,11,6],[37,12,11,10],[37,13,11,11,"isServer"],[37,28,11,19],[37,32,11,23,"window"],[37,38,11,29],[37,39,11,30,"addEventListener"],[37,55,11,46],[37,57,11,48],[38,10,12,8],[38,14,12,14,"onlineListener"],[38,28,12,28],[38,31,12,31,"onlineListener"],[38,32,12,31],[38,37,12,37,"onOnline"],[38,45,12,45],[38,46,12,46],[38,50,12,50],[38,51,12,51],[39,10,13,8],[39,14,13,14,"offlineListener"],[39,29,13,29],[39,32,13,32,"offlineListener"],[39,33,13,32],[39,38,13,38,"onOnline"],[39,46,13,46],[39,47,13,47],[39,52,13,52],[39,53,13,53],[40,10,14,8,"window"],[40,16,14,14],[40,17,14,15,"addEventListener"],[40,33,14,31],[40,34,14,32],[40,42,14,40],[40,44,14,42,"onlineListener"],[40,58,14,56],[40,60,14,58],[40,65,14,63],[40,66,14,64],[41,10,15,8,"window"],[41,16,15,14],[41,17,15,15,"addEventListener"],[41,33,15,31],[41,34,15,32],[41,43,15,41],[41,45,15,43,"offlineListener"],[41,60,15,58],[41,62,15,60],[41,67,15,65],[41,68,15,66],[42,10,16,8],[42,17,16,15],[42,23,16,21],[43,12,17,10,"window"],[43,18,17,16],[43,19,17,17,"removeEventListener"],[43,38,17,36],[43,39,17,37],[43,47,17,45],[43,49,17,47,"onlineListener"],[43,63,17,61],[43,64,17,62],[44,12,18,10,"window"],[44,18,18,16],[44,19,18,17,"removeEventListener"],[44,38,18,36],[44,39,18,37],[44,48,18,46],[44,50,18,48,"offlineListener"],[44,65,18,63],[44,66,18,64],[45,10,19,8],[45,11,19,9],[46,8,20,6],[47,8,21,6],[48,6,22,4],[48,7,22,5],[49,6,22,6],[49,13,22,6,"_this"],[49,18,22,6],[50,4,23,2],[51,4,23,3],[51,8,23,3,"_inherits2"],[51,18,23,3],[51,19,23,3,"default"],[51,26,23,3],[51,28,23,3,"OnlineManager"],[51,41,23,3],[51,43,23,3,"_Subscribable"],[51,56,23,3],[52,4,23,3],[52,15,23,3,"_createClass2"],[52,28,23,3],[52,29,23,3,"default"],[52,36,23,3],[52,38,23,3,"OnlineManager"],[52,51,23,3],[53,6,23,3,"key"],[53,9,23,3],[54,6,23,3,"value"],[54,11,23,3],[54,13,24,2],[54,22,24,2,"onSubscribe"],[54,33,24,13,"onSubscribe"],[54,34,24,13],[54,36,24,16],[55,8,25,4],[55,12,25,8],[55,17,25,8,"_classPrivateFieldLooseBase2"],[55,45,25,8],[55,46,25,8,"default"],[55,53,25,8],[55,55,25,9],[55,59,25,13],[55,61,25,13,"_cleanup"],[55,69,25,13],[55,71,25,13,"_cleanup"],[55,79,25,13],[55,80,25,22],[55,82,25,24],[56,10,26,6],[56,14,26,10],[56,15,26,11,"setEventListener"],[56,31,26,27],[56,36,26,27,"_classPrivateFieldLooseBase2"],[56,64,26,27],[56,65,26,27,"default"],[56,72,26,27],[56,74,26,28],[56,78,26,32],[56,80,26,32,"_setup"],[56,86,26,32],[56,88,26,32,"_setup"],[56,94,26,32],[56,95,26,39],[56,96,26,40],[57,8,27,4],[58,6,28,2],[59,4,28,3],[60,6,28,3,"key"],[60,9,28,3],[61,6,28,3,"value"],[61,11,28,3],[61,13,29,2],[61,22,29,2,"onUnsubscribe"],[61,35,29,15,"onUnsubscribe"],[61,36,29,15],[61,38,29,18],[62,8,30,4],[62,12,30,8],[62,13,30,9],[62,17,30,13],[62,18,30,14,"hasListeners"],[62,30,30,26],[62,31,30,27],[62,32,30,28],[62,34,30,30],[63,10,31,6],[63,14,31,6,"_classPrivateFieldLooseBase2"],[63,42,31,6],[63,43,31,6,"default"],[63,50,31,6],[63,56,31,10],[63,58,31,10,"_cleanup"],[63,66,31,10],[63,68,31,10,"_cleanup"],[63,76,31,10],[64,10,32,6],[64,14,32,6,"_classPrivateFieldLooseBase2"],[64,42,32,6],[64,43,32,6,"default"],[64,50,32,6],[64,56,32,10],[64,58,32,10,"_cleanup"],[64,66,32,10],[64,68,32,10,"_cleanup"],[64,76,32,10],[64,80,32,22],[64,85,32,27],[64,86,32,28],[65,8,33,4],[66,6,34,2],[67,4,34,3],[68,6,34,3,"key"],[68,9,34,3],[69,6,34,3,"value"],[69,11,34,3],[69,13,35,2],[69,22,35,2,"setEventListener"],[69,38,35,18,"setEventListener"],[69,39,35,19,"setup"],[69,44,35,24],[69,46,35,26],[70,8,36,4],[70,12,36,4,"_classPrivateFieldLooseBase2"],[70,40,36,4],[70,41,36,4,"default"],[70,48,36,4],[70,54,36,8],[70,56,36,8,"_setup"],[70,62,36,8],[70,64,36,8,"_setup"],[70,70,36,8],[70,74,36,18,"setup"],[70,79,36,23],[71,8,37,4],[71,12,37,4,"_classPrivateFieldLooseBase2"],[71,40,37,4],[71,41,37,4,"default"],[71,48,37,4],[71,54,37,8],[71,56,37,8,"_cleanup"],[71,64,37,8],[71,66,37,8,"_cleanup"],[71,74,37,8],[72,8,38,4],[72,12,38,4,"_classPrivateFieldLooseBase2"],[72,40,38,4],[72,41,38,4,"default"],[72,48,38,4],[72,54,38,8],[72,56,38,8,"_cleanup"],[72,64,38,8],[72,66,38,8,"_cleanup"],[72,74,38,8],[72,78,38,20,"setup"],[72,83,38,25],[72,84,38,26],[72,88,38,30],[72,89,38,31,"setOnline"],[72,98,38,40],[72,99,38,41,"bind"],[72,103,38,45],[72,104,38,46],[72,108,38,50],[72,109,38,51],[72,110,38,52],[73,6,39,2],[74,4,39,3],[75,6,39,3,"key"],[75,9,39,3],[76,6,39,3,"value"],[76,11,39,3],[76,13,40,2],[76,22,40,2,"setOnline"],[76,31,40,11,"setOnline"],[76,32,40,12,"online"],[76,38,40,18],[76,40,40,20],[77,8,41,4],[77,12,41,10,"changed"],[77,19,41,17],[77,22,41,20],[77,26,41,20,"_classPrivateFieldLooseBase2"],[77,54,41,20],[77,55,41,20,"default"],[77,62,41,20],[77,68,41,24],[77,70,41,24,"_online"],[77,77,41,24],[77,79,41,24,"_online"],[77,86,41,24],[77,92,41,37,"online"],[77,98,41,43],[78,8,42,4],[78,12,42,8,"changed"],[78,19,42,15],[78,21,42,17],[79,10,43,6],[79,14,43,6,"_classPrivateFieldLooseBase2"],[79,42,43,6],[79,43,43,6,"default"],[79,50,43,6],[79,56,43,10],[79,58,43,10,"_online"],[79,65,43,10],[79,67,43,10,"_online"],[79,74,43,10],[79,78,43,21,"online"],[79,84,43,27],[80,10,44,6],[80,14,44,10],[80,15,44,11,"listeners"],[80,24,44,20],[80,25,44,21,"forEach"],[80,32,44,28],[80,33,44,30,"listener"],[80,41,44,38],[80,45,44,43],[81,12,45,8,"listener"],[81,20,45,16],[81,21,45,17,"online"],[81,27,45,23],[81,28,45,24],[82,10,46,6],[82,11,46,7],[82,12,46,8],[83,8,47,4],[84,6,48,2],[85,4,48,3],[86,6,48,3,"key"],[86,9,48,3],[87,6,48,3,"value"],[87,11,48,3],[87,13,49,2],[87,22,49,2,"isOnline"],[87,30,49,10,"isOnline"],[87,31,49,10],[87,33,49,13],[88,8,50,4],[88,19,50,4,"_classPrivateFieldLooseBase2"],[88,47,50,4],[88,48,50,4,"default"],[88,55,50,4],[88,57,50,11],[88,61,50,15],[88,63,50,15,"_online"],[88,70,50,15],[88,72,50,15,"_online"],[88,79,50,15],[89,6,51,2],[90,4,51,3],[91,2,51,3],[91,4,4,34,"Subscribable"],[91,30,4,46],[91,32,52,1],[92,2,53,0],[92,6,53,4,"onlineManager"],[92,19,53,17],[92,22,53,17,"exports"],[92,29,53,17],[92,30,53,17,"onlineManager"],[92,43,53,17],[92,46,53,20],[92,50,53,24,"OnlineManager"],[92,63,53,37],[92,64,53,38],[92,65,53,39],[93,0,53,40],[93,3]],"functionMap":{"names":["<global>","OnlineManager","OnlineManager#constructor","<anonymous>","onlineListener","offlineListener","OnlineManager#onSubscribe","OnlineManager#onUnsubscribe","OnlineManager#setEventListener","OnlineManager#setOnline","listeners.forEach$argument_0","OnlineManager#isOnline"],"mappings":"AAA;oBCG;ECI;kBCE;+BCE,oBD;gCEC,qBF;KDS;GDC;EKC;GLI;EMC;GNK;EOC;GPI;EQC;6BCI;ODE;GRE;EUC;GVE;CDC"}},"type":"js/module"}]}