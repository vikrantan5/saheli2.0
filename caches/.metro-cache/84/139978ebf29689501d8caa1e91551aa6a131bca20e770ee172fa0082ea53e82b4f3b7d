{"dependencies":[{"name":"@supabase/node-fetch","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":14},"end":{"line":2,"column":78,"index":92}}],"key":"Yck1xenI4HVkz5QJQ4UhOD4f0FE=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.resolveHeadersConstructor = exports.resolveFetch = exports.fetchWithAuth = void 0;\n  var _nodeFetch = _interopRequireWildcard(require(_dependencyMap[0], \"@supabase/node-fetch\"));\n  function _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function (e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (const t in e) \"default\" !== t && {}.hasOwnProperty.call(e, t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, t)) && (i.get || i.set) ? o(f, t, i) : f[t] = e[t]); return f; })(e, t); }\n  // @ts-ignore\n\n  const resolveFetch = customFetch => {\n    let _fetch;\n    if (customFetch) {\n      _fetch = customFetch;\n    } else if (typeof fetch === 'undefined') {\n      _fetch = _nodeFetch.default;\n    } else {\n      _fetch = fetch;\n    }\n    return (...args) => _fetch(...args);\n  };\n  exports.resolveFetch = resolveFetch;\n  const resolveHeadersConstructor = () => {\n    if (typeof Headers === 'undefined') {\n      return _nodeFetch.Headers;\n    }\n    return Headers;\n  };\n  exports.resolveHeadersConstructor = resolveHeadersConstructor;\n  const fetchWithAuth = (supabaseKey, getAccessToken, customFetch) => {\n    const fetch = resolveFetch(customFetch);\n    const HeadersConstructor = resolveHeadersConstructor();\n    return async (input, init) => {\n      var _a;\n      const accessToken = (_a = await getAccessToken()) !== null && _a !== void 0 ? _a : supabaseKey;\n      let headers = new HeadersConstructor(init === null || init === void 0 ? void 0 : init.headers);\n      if (!headers.has('apikey')) {\n        headers.set('apikey', supabaseKey);\n      }\n      if (!headers.has('Authorization')) {\n        headers.set('Authorization', `Bearer ${accessToken}`);\n      }\n      return fetch(input, Object.assign(Object.assign({}, init), {\n        headers\n      }));\n    };\n  };\n  exports.fetchWithAuth = fetchWithAuth;\n});","lineCount":48,"map":[[6,2,2,0],[6,6,2,0,"_nodeFetch"],[6,16,2,0],[6,19,2,0,"_interopRequireWildcard"],[6,42,2,0],[6,43,2,0,"require"],[6,50,2,0],[6,51,2,0,"_dependencyMap"],[6,65,2,0],[7,2,2,78],[7,11,2,78,"_interopRequireWildcard"],[7,35,2,78,"e"],[7,36,2,78],[7,38,2,78,"t"],[7,39,2,78],[7,68,2,78,"WeakMap"],[7,75,2,78],[7,81,2,78,"r"],[7,82,2,78],[7,89,2,78,"WeakMap"],[7,96,2,78],[7,100,2,78,"n"],[7,101,2,78],[7,108,2,78,"WeakMap"],[7,115,2,78],[7,127,2,78,"_interopRequireWildcard"],[7,150,2,78],[7,162,2,78,"_interopRequireWildcard"],[7,163,2,78,"e"],[7,164,2,78],[7,166,2,78,"t"],[7,167,2,78],[7,176,2,78,"t"],[7,177,2,78],[7,181,2,78,"e"],[7,182,2,78],[7,186,2,78,"e"],[7,187,2,78],[7,188,2,78,"__esModule"],[7,198,2,78],[7,207,2,78,"e"],[7,208,2,78],[7,214,2,78,"o"],[7,215,2,78],[7,217,2,78,"i"],[7,218,2,78],[7,220,2,78,"f"],[7,221,2,78],[7,226,2,78,"__proto__"],[7,235,2,78],[7,243,2,78,"default"],[7,250,2,78],[7,252,2,78,"e"],[7,253,2,78],[7,270,2,78,"e"],[7,271,2,78],[7,294,2,78,"e"],[7,295,2,78],[7,320,2,78,"e"],[7,321,2,78],[7,330,2,78,"f"],[7,331,2,78],[7,337,2,78,"o"],[7,338,2,78],[7,341,2,78,"t"],[7,342,2,78],[7,345,2,78,"n"],[7,346,2,78],[7,349,2,78,"r"],[7,350,2,78],[7,358,2,78,"o"],[7,359,2,78],[7,360,2,78,"has"],[7,363,2,78],[7,364,2,78,"e"],[7,365,2,78],[7,375,2,78,"o"],[7,376,2,78],[7,377,2,78,"get"],[7,380,2,78],[7,381,2,78,"e"],[7,382,2,78],[7,385,2,78,"o"],[7,386,2,78],[7,387,2,78,"set"],[7,390,2,78],[7,391,2,78,"e"],[7,392,2,78],[7,394,2,78,"f"],[7,395,2,78],[7,411,2,78,"t"],[7,412,2,78],[7,416,2,78,"e"],[7,417,2,78],[7,433,2,78,"t"],[7,434,2,78],[7,441,2,78,"hasOwnProperty"],[7,455,2,78],[7,456,2,78,"call"],[7,460,2,78],[7,461,2,78,"e"],[7,462,2,78],[7,464,2,78,"t"],[7,465,2,78],[7,472,2,78,"i"],[7,473,2,78],[7,477,2,78,"o"],[7,478,2,78],[7,481,2,78,"Object"],[7,487,2,78],[7,488,2,78,"defineProperty"],[7,502,2,78],[7,507,2,78,"Object"],[7,513,2,78],[7,514,2,78,"getOwnPropertyDescriptor"],[7,538,2,78],[7,539,2,78,"e"],[7,540,2,78],[7,542,2,78,"t"],[7,543,2,78],[7,550,2,78,"i"],[7,551,2,78],[7,552,2,78,"get"],[7,555,2,78],[7,559,2,78,"i"],[7,560,2,78],[7,561,2,78,"set"],[7,564,2,78],[7,568,2,78,"o"],[7,569,2,78],[7,570,2,78,"f"],[7,571,2,78],[7,573,2,78,"t"],[7,574,2,78],[7,576,2,78,"i"],[7,577,2,78],[7,581,2,78,"f"],[7,582,2,78],[7,583,2,78,"t"],[7,584,2,78],[7,588,2,78,"e"],[7,589,2,78],[7,590,2,78,"t"],[7,591,2,78],[7,602,2,78,"f"],[7,603,2,78],[7,608,2,78,"e"],[7,609,2,78],[7,611,2,78,"t"],[7,612,2,78],[8,2,1,0],[10,2,3,7],[10,8,3,13,"resolveFetch"],[10,20,3,25],[10,23,3,29,"customFetch"],[10,34,3,40],[10,38,3,45],[11,4,4,4],[11,8,4,8,"_fetch"],[11,14,4,14],[12,4,5,4],[12,8,5,8,"customFetch"],[12,19,5,19],[12,21,5,21],[13,6,6,8,"_fetch"],[13,12,6,14],[13,15,6,17,"customFetch"],[13,26,6,28],[14,4,7,4],[14,5,7,5],[14,11,8,9],[14,15,8,13],[14,22,8,20,"fetch"],[14,27,8,25],[14,32,8,30],[14,43,8,41],[14,45,8,43],[15,6,9,8,"_fetch"],[15,12,9,14],[15,15,9,17,"nodeFetch"],[15,33,9,26],[16,4,10,4],[16,5,10,5],[16,11,11,9],[17,6,12,8,"_fetch"],[17,12,12,14],[17,15,12,17,"fetch"],[17,20,12,22],[18,4,13,4],[19,4,14,4],[19,11,14,11],[19,12,14,12],[19,15,14,15,"args"],[19,19,14,19],[19,24,14,24,"_fetch"],[19,30,14,30],[19,31,14,31],[19,34,14,34,"args"],[19,38,14,38],[19,39,14,39],[20,2,15,0],[20,3,15,1],[21,2,15,2,"exports"],[21,9,15,2],[21,10,15,2,"resolveFetch"],[21,22,15,2],[21,25,15,2,"resolveFetch"],[21,37,15,2],[22,2,16,7],[22,8,16,13,"resolveHeadersConstructor"],[22,33,16,38],[22,36,16,41,"resolveHeadersConstructor"],[22,37,16,41],[22,42,16,47],[23,4,17,4],[23,8,17,8],[23,15,17,15,"Headers"],[23,22,17,22],[23,27,17,27],[23,38,17,38],[23,40,17,40],[24,6,18,8],[24,13,18,15,"NodeFetchHeaders"],[24,31,18,31],[25,4,19,4],[26,4,20,4],[26,11,20,11,"Headers"],[26,18,20,18],[27,2,21,0],[27,3,21,1],[28,2,21,2,"exports"],[28,9,21,2],[28,10,21,2,"resolveHeadersConstructor"],[28,35,21,2],[28,38,21,2,"resolveHeadersConstructor"],[28,63,21,2],[29,2,22,7],[29,8,22,13,"fetchWithAuth"],[29,21,22,26],[29,24,22,29,"fetchWithAuth"],[29,25,22,30,"supabaseKey"],[29,36,22,41],[29,38,22,43,"getAccessToken"],[29,52,22,57],[29,54,22,59,"customFetch"],[29,65,22,70],[29,70,22,75],[30,4,23,4],[30,10,23,10,"fetch"],[30,15,23,15],[30,18,23,18,"resolveFetch"],[30,30,23,30],[30,31,23,31,"customFetch"],[30,42,23,42],[30,43,23,43],[31,4,24,4],[31,10,24,10,"HeadersConstructor"],[31,28,24,28],[31,31,24,31,"resolveHeadersConstructor"],[31,56,24,56],[31,57,24,57],[31,58,24,58],[32,4,25,4],[32,11,25,11],[32,18,25,18,"input"],[32,23,25,23],[32,25,25,25,"init"],[32,29,25,29],[32,34,25,34],[33,6,26,8],[33,10,26,12,"_a"],[33,12,26,14],[34,6,27,8],[34,12,27,14,"accessToken"],[34,23,27,25],[34,26,27,28],[34,27,27,29,"_a"],[34,29,27,31],[34,32,27,35],[34,38,27,41,"getAccessToken"],[34,52,27,55],[34,53,27,56],[34,54,27,58],[34,60,27,64],[34,64,27,68],[34,68,27,72,"_a"],[34,70,27,74],[34,75,27,79],[34,80,27,84],[34,81,27,85],[34,84,27,88,"_a"],[34,86,27,90],[34,89,27,93,"supabaseKey"],[34,100,27,104],[35,6,28,8],[35,10,28,12,"headers"],[35,17,28,19],[35,20,28,22],[35,24,28,26,"HeadersConstructor"],[35,42,28,44],[35,43,28,45,"init"],[35,47,28,49],[35,52,28,54],[35,56,28,58],[35,60,28,62,"init"],[35,64,28,66],[35,69,28,71],[35,74,28,76],[35,75,28,77],[35,78,28,80],[35,83,28,85],[35,84,28,86],[35,87,28,89,"init"],[35,91,28,93],[35,92,28,94,"headers"],[35,99,28,101],[35,100,28,102],[36,6,29,8],[36,10,29,12],[36,11,29,13,"headers"],[36,18,29,20],[36,19,29,21,"has"],[36,22,29,24],[36,23,29,25],[36,31,29,33],[36,32,29,34],[36,34,29,36],[37,8,30,12,"headers"],[37,15,30,19],[37,16,30,20,"set"],[37,19,30,23],[37,20,30,24],[37,28,30,32],[37,30,30,34,"supabaseKey"],[37,41,30,45],[37,42,30,46],[38,6,31,8],[39,6,32,8],[39,10,32,12],[39,11,32,13,"headers"],[39,18,32,20],[39,19,32,21,"has"],[39,22,32,24],[39,23,32,25],[39,38,32,40],[39,39,32,41],[39,41,32,43],[40,8,33,12,"headers"],[40,15,33,19],[40,16,33,20,"set"],[40,19,33,23],[40,20,33,24],[40,35,33,39],[40,37,33,41],[40,47,33,51,"accessToken"],[40,58,33,62],[40,60,33,64],[40,61,33,65],[41,6,34,8],[42,6,35,8],[42,13,35,15,"fetch"],[42,18,35,20],[42,19,35,21,"input"],[42,24,35,26],[42,26,35,28,"Object"],[42,32,35,34],[42,33,35,35,"assign"],[42,39,35,41],[42,40,35,42,"Object"],[42,46,35,48],[42,47,35,49,"assign"],[42,53,35,55],[42,54,35,56],[42,55,35,57],[42,56,35,58],[42,58,35,60,"init"],[42,62,35,64],[42,63,35,65],[42,65,35,67],[43,8,35,69,"headers"],[44,6,35,77],[44,7,35,78],[44,8,35,79],[44,9,35,80],[45,4,36,4],[45,5,36,5],[46,2,37,0],[46,3,37,1],[47,2,37,2,"exports"],[47,9,37,2],[47,10,37,2,"fetchWithAuth"],[47,23,37,2],[47,26,37,2,"fetchWithAuth"],[47,39,37,2],[48,0,37,2],[48,3]],"functionMap":{"names":["<global>","resolveFetch","<anonymous>","resolveHeadersConstructor","fetchWithAuth"],"mappings":"AAA;4BCE;WCW,4BD;CDC;yCGC;CHK;6BIC;WFG;KEW;CJC"}},"type":"js/module"}]}